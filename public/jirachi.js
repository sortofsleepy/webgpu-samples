'use strict';(function(){function oa(){var a=window.navigator.userAgent;if(-1!==a.search("Chrome"))return"gpupresent";if(-1===a.search("Chrome")&&-1!==a.search("Safari"))return"gpu"}function pa(a,b,c,d,h){a=a||1;b=b||1;c=c||1;d=d||1;h=h&&h.quads?h.quads:!1;for(var f=[],g=[],e=[],l=0;l<=d;l++)for(var m=0;m<=c;m++){var G=m/c,t=l/d;f.push([-a/2+G*a,b/2-t*b,0]);g.push([G,1-t]);l<d&&m<c&&(h?e.push([l*(c+1)+m,(l+1)*(c+1)+m,(l+1)*(c+1)+m+1,l*(c+1)+m+1]):(e.push([l*(c+1)+m,(l+1)*(c+1)+m+1,l*(c+1)+m+1]),e.push([(l+
1)*(c+1)+m+1,l*(c+1)+m,(l+1)*(c+1)+m])))}var n=[];f.forEach(function(a){n.push(a[0],a[1],a[2])});var u=[];g.forEach(function(a){u.push(a[0],a[1])});var p=[];e.forEach(function(a){p.push(a[0],a[1],a[2])});return{positions:new Float32Array(n),uvs:new Float32Array(u),cells:new Uint32Array(p)}}function qa(a,b){var c=document.createElement("canvas"),d=c.getContext(oa()),h=n.create(),f=n.create();n.perspective(h,2*Math.PI/5,Math.abs(c.width/c.height),.1,1E6);document.body.appendChild(c);c.width=window.innerWidth;
c.height=window.innerHeight;var e=d.configureSwapChain({device:a,format:"bgra8unorm"});d=a.createBindGroupLayout({bindings:[{binding:0,visibility:1,type:"uniform-buffer"}]});var k=a.createBuffer({size:64,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),l=a.createBindGroup({layout:d,bindings:[{binding:0,resource:{buffer:k}}]}),m=new Image;m.src="test.png";m.decode();m.onload=function(){};a.createTexture({size:{width:m.width,height:m.height,depth:1},format:"rgba8unorm",usage:GPUTextureUsage.COPY_DST|
GPUTextureUsage.SAMPLED});var G={colorAttachments:[{attachment:void 0,loadValue:{r:.5,g:.5,b:.5,a:1}}],depthStencilAttachment:{attachment:a.createTexture({size:{width:c.width,height:c.height,depth:1},format:"depth24plus-stencil8",usage:GPUTextureUsage.OUTPUT_ATTACHMENT}).createView(),depthLoadValue:1,depthStoreOp:"store",stencilLoadValue:0,stencilStoreOp:"store"}},t=pa(500,500,2,2),O=a.createBuffer({size:t.positions.byteLength,usage:GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST});O.setSubData(0,t.positions);
var u=a.createBuffer({size:t.uvs.byteLength,usage:GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST});u.setSubData(0,t.uvs);var r=a.createBuffer({size:t.cells.byteLength,usage:GPUBufferUsage.INDEX|GPUBufferUsage.COPY_DST});r.setSubData(0,t.cells);c={module:a.createShaderModule({code:b.compileGLSL("\n#version 450 \n\nlayout(set = 0, binding = 0) uniform Uniforms {\n  mat4 projectionMatrix;\n\n} uniforms;\n\nlayout(location = 0) in vec3 position;\nlayout(location = 1) in vec2 uv;\n\nvoid main(){\n\n\n    gl_Position = uniforms.projectionMatrix * vec4(position,1.);\n\n\n}",
"vertex"),source:"\n#version 450 \n\nlayout(set = 0, binding = 0) uniform Uniforms {\n  mat4 projectionMatrix;\n\n} uniforms;\n\nlayout(location = 0) in vec3 position;\nlayout(location = 1) in vec2 uv;\n\nvoid main(){\n\n\n    gl_Position = uniforms.projectionMatrix * vec4(position,1.);\n\n\n}"}),entryPoint:"main"};b={module:a.createShaderModule({code:b.compileGLSL("#version 450 \n\n\nlayout(location = 0) out vec4 glFragColor;\n\nvoid main(){\n    glFragColor = vec4(1.);\n}","fragment"),source:"#version 450 \n\n\nlayout(location = 0) out vec4 glFragColor;\n\nvoid main(){\n    glFragColor = vec4(1.);\n}"}),
entryPoint:"main"};d=a.createPipelineLayout({bindGroupLayouts:[d]});var w=a.createRenderPipeline({layout:d,vertexStage:c,fragmentStage:b,primitiveTopology:"triangle-list",depthStencilState:{depthWriteEnabled:!0,depthCompare:"less",format:"depth24plus-stencil8"},vertexState:{indexFormat:"uint32",vertexBuffers:[{arrayStride:3*Float32Array.BYTES_PER_ELEMENT,attributes:[{shaderLocation:0,offset:0,format:"float3"},{shaderLocation:1,offset:0,format:"float2"}]}]},rasterizationState:{cullMode:"none"},colorStates:[{format:"bgra8unorm"}]}),
v=function(){f=n.create();n.translate(f,f,p.fromValues(0,0,-1E3));var a=Date.now()/1E3;n.rotate(f,f,1,p.fromValues(Math.sin(a),Math.cos(a),0));a=n.create();n.multiply(a,h,f);return a},D=function(){requestAnimationFrame(D);k.setSubData(0,v());G.colorAttachments[0].attachment=e.getCurrentTexture().createView();var b=a.createCommandEncoder({}),c=b.beginRenderPass(G);c.setPipeline(w);c.setBindGroup(0,l);c.setVertexBuffer(0,O);c.setVertexBuffer(1,u);c.setIndexBuffer(r);c.drawIndexed(t.positions.length,
1,0,0,0);c.endPass();a.defaultQueue.submit([b.finish()])};D()}var P=function(){var a="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return function(b){function c(a){var b="i32";"*"===b.charAt(b.length-1)&&(b="i32");switch(b){case "i1":return Q[a>>0];case "i8":return Q[a>>0];case "i16":return ka[a>>1];case "i32":return B[a>>2];case "i64":return B[a>>2];case "float":return ra[a>>2];case "double":return sa[a>>3];default:u("invalid type for getValue: "+b)}return null}
function d(){var a=q._convert_glsl_to_spirv;a||u("Assertion failed: Cannot call unknown function convert_glsl_to_spirv, make sure it is exported");return a}function h(a){var b=["string","number","boolean","number","number"],c={string:function(a){var b=0;if(null!==a&&void 0!==a&&0!==a){var c=(a.length<<2)+1;b=Ea(c);k(a,J,b,c)}return b},array:function(a){var b=Ea(a.length);Q.set(a,b);return b}},h=d(),f=[],e=0;if(a)for(var g=0;g<a.length;g++){var ia=c[b[g]];ia?(0===e&&(e=Va()),f[g]=ia(a[g])):f[g]=a[g]}a=
h.apply(null,f);0!==e&&Wa(e);return a}function f(a,b,c){var d=b+c;for(c=b;a[c]&&!(c>=d);)++c;if(16<c-b&&a.subarray&&Ga)return Ga.decode(a.subarray(b,c));for(d="";b<c;){var h=a[b++];if(h&128){var f=a[b++]&63;if(192==(h&224))d+=String.fromCharCode((h&31)<<6|f);else{var e=a[b++]&63;h=224==(h&240)?(h&15)<<12|f<<6|e:(h&7)<<18|f<<12|e<<6|a[b++]&63;65536>h?d+=String.fromCharCode(h):(h-=65536,d+=String.fromCharCode(55296|h>>10,56320|h&1023))}}else d+=String.fromCharCode(h)}return d}function e(a){return a?
f(J,a,void 0):""}function k(a,b,c,d){if(0<d){d=c+d-1;for(var h=0;h<a.length;++h){var f=a.charCodeAt(h);if(55296<=f&&57343>=f){var e=a.charCodeAt(++h);f=65536+((f&1023)<<10)|e&1023}if(127>=f){if(c>=d)break;b[c++]=f}else{if(2047>=f){if(c+1>=d)break;b[c++]=192|f>>6}else{if(65535>=f){if(c+2>=d)break;b[c++]=224|f>>12}else{if(c+3>=d)break;b[c++]=240|f>>18;b[c++]=128|f>>12&63}b[c++]=128|f>>6&63}b[c++]=128|f&63}}b[c]=0}}function l(a){for(var b=0,c=0;c<a.length;++c){var d=a.charCodeAt(c);55296<=d&&57343>=
d&&(d=65536+((d&1023)<<10)|a.charCodeAt(++c)&1023);127>=d?++b:b=2047>=d?b+2:65535>=d?b+3:b+4}return b}function m(a){0<a%65536&&(a+=65536-a%65536);return a}function G(a){ca=a;q.HEAP8=Q=new Int8Array(a);q.HEAP16=ka=new Int16Array(a);q.HEAP32=B=new Int32Array(a);q.HEAPU8=J=new Uint8Array(a);q.HEAPU16=ta=new Uint16Array(a);q.HEAPU32=U=new Uint32Array(a);q.HEAPF32=ra=new Float32Array(a);q.HEAPF64=sa=new Float64Array(a)}function t(a){for(;0<a.length;){var b=a.shift();if("function"==typeof b)b();else{var c=
b.T;"number"===typeof c?void 0===b.R?q.dynCall_v(c):q.dynCall_vi(c,b.R):c(void 0===b.R?null:b.R)}}}function n(){var a=q.preRun.shift();Ha.unshift(a)}function u(a){if(q.onAbort)q.onAbort(a);Ia(a);W(a);Ja=!0;throw new WebAssembly.RuntimeError("abort("+a+"). Build with -s ASSERTIONS=1 for more info.");}function p(){var a=X;return String.prototype.startsWith?a.startsWith("data:application/octet-stream;base64,"):0===a.indexOf("data:application/octet-stream;base64,")}function r(){try{if(da)return new Uint8Array(da);
if(ua)return ua(X);throw"both async and sync fetching of the wasm failed";}catch(ia){u(ia)}}function v(){return da||!va&&!ea||"function"!==typeof fetch?new Promise(function(a){a(r())}):fetch(X,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+X+"'";return a.arrayBuffer()}).catch(function(){return r()})}function D(){wa+=4;return B[wa-4>>2]}function y(a){switch(a){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+
a);}}function x(a){for(var b="";J[a];)b+=Ka[J[a++]];return b}function A(a,b){if(void 0===a)a="_unknown";else{a=a.replace(/[^a-zA-Z0-9_]/g,"$");var c=a.charCodeAt(0);a=48<=c&&57>=c?"_"+a:a}return(new Function("body","return function "+a+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n'))(b)}function z(a){var b=Error,c=A(a,function(b){this.name=a;this.message=b;b=Error(b).stack;void 0!==b&&(this.stack=this.toString()+"\n"+b.replace(/^Error(:[^\n]*)?\n/,""))});c.prototype=Object.create(b.prototype);
c.prototype.constructor=c;c.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message};return c}function H(a){throw new La(a);}function F(a,b,c){c=c||{};if(!("argPackAdvance"in b))throw new TypeError("registerType registeredInstance requires argPackAdvance");var d=b.name;a||H('type "'+d+'" must have a positive integer typeid pointer');if(Ma.hasOwnProperty(a)){if(c.U)return;H("Cannot register type '"+d+"' twice")}Ma[a]=b;xa.hasOwnProperty(a)&&(b=xa[a],delete xa[a],
b.forEach(function(a){a()}))}function N(a){switch(a){case void 0:return 1;case null:return 2;case !0:return 3;case !1:return 4;default:var b=ya.length?ya.pop():R.length;R[b]={W:1,value:a};return b}}function K(a){return this.fromWireType(U[a>>2])}function L(a){if(null===a)return"null";var b=typeof a;return"object"===b||"array"===b||"function"===b?a.toString():""+a}function S(a,b){switch(b){case 2:return function(a){return this.fromWireType(ra[a>>2])};case 3:return function(a){return this.fromWireType(sa[a>>
3])};default:throw new TypeError("Unknown float type: "+a);}}function T(a,b,c){switch(b){case 0:return c?function(a){return Q[a]}:function(a){return J[a]};case 1:return c?function(a){return ka[a>>1]}:function(a){return ta[a>>1]};case 2:return c?function(a){return B[a>>2]}:function(a){return U[a>>2]};default:throw new TypeError("Unknown integer type: "+a);}}function C(){if(!za){var a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"===typeof navigator&&navigator.languages&&
navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Na},b;for(b in Oa)a[b]=Oa[b];var c=[];for(b in a)c.push(b+"="+a[b]);za=c}return za}function la(a){return 0===a%4&&(0!==a%100||0===a%400)}function ba(a,b){for(var c=0,d=0;d<=b;c+=a[d++]);return c}function P(a,b){for(a=new Date(a.getTime());0<b;){var c=a.getMonth(),d=(la(a.getFullYear())?ma:na)[c];if(b>d-a.getDate())b-=d-a.getDate()+1,a.setDate(1),11>c?a.setMonth(c+1):(a.setMonth(0),a.setFullYear(a.getFullYear()+1));else{a.setDate(a.getDate()+
b);break}}return a}function oa(a,b,c,d){function h(a,b,c){for(a="number"===typeof a?a.toString():a||"";a.length<b;)a=c[0]+a;return a}function f(a,b){return h(a,b,"0")}function g(a,b){function c(a){return 0>a?-1:0<a?1:0}var d;0===(d=c(a.getFullYear()-b.getFullYear()))&&0===(d=c(a.getMonth()-b.getMonth()))&&(d=c(a.getDate()-b.getDate()));return d}function k(a){switch(a.getDay()){case 0:return new Date(a.getFullYear()-1,11,29);case 1:return a;case 2:return new Date(a.getFullYear(),0,3);case 3:return new Date(a.getFullYear(),
0,2);case 4:return new Date(a.getFullYear(),0,1);case 5:return new Date(a.getFullYear()-1,11,31);case 6:return new Date(a.getFullYear()-1,11,30)}}function m(a){a=P(new Date(a.J+1900,0,1),a.P);var b=k(new Date(a.getFullYear()+1,0,4));return 0>=g(k(new Date(a.getFullYear(),0,4)),a)?0>=g(b,a)?a.getFullYear()+1:a.getFullYear():a.getFullYear()-1}var l=B[d+40>>2];d={Z:B[d>>2],Y:B[d+4>>2],N:B[d+8>>2],M:B[d+12>>2],K:B[d+16>>2],J:B[d+20>>2],O:B[d+24>>2],P:B[d+28>>2],ia:B[d+32>>2],X:B[d+36>>2],$:l?e(l):""};
c=e(c);l={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var q in l)c=c.replace(new RegExp(q,"g"),l[q]);var t="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
ja="January February March April May June July August September October November December".split(" ");l={"%a":function(a){return t[a.O].substring(0,3)},"%A":function(a){return t[a.O]},"%b":function(a){return ja[a.K].substring(0,3)},"%B":function(a){return ja[a.K]},"%C":function(a){return f((a.J+1900)/100|0,2)},"%d":function(a){return f(a.M,2)},"%e":function(a){return h(a.M,2," ")},"%g":function(a){return m(a).toString().substring(2)},"%G":function(a){return m(a)},"%H":function(a){return f(a.N,2)},
"%I":function(a){a=a.N;0==a?a=12:12<a&&(a-=12);return f(a,2)},"%j":function(a){return f(a.M+ba(la(a.J+1900)?ma:na,a.K-1),3)},"%m":function(a){return f(a.K+1,2)},"%M":function(a){return f(a.Y,2)},"%n":function(){return"\n"},"%p":function(a){return 0<=a.N&&12>a.N?"AM":"PM"},"%S":function(a){return f(a.Z,2)},"%t":function(){return"\t"},"%u":function(a){return a.O||7},"%U":function(a){var b=new Date(a.J+1900,0,1),c=0===b.getDay()?b:P(b,7-b.getDay());a=new Date(a.J+1900,a.K,a.M);return 0>g(c,a)?f(Math.ceil((31-
c.getDate()+(ba(la(a.getFullYear())?ma:na,a.getMonth()-1)-31)+a.getDate())/7),2):0===g(c,b)?"01":"00"},"%V":function(a){var b=k(new Date(a.J+1900,0,4)),c=k(new Date(a.J+1901,0,4)),d=P(new Date(a.J+1900,0,1),a.P);return 0>g(d,b)?"53":0>=g(c,d)?"01":f(Math.ceil((b.getFullYear()<a.J+1900?a.P+32-b.getDate():a.P+1-b.getDate())/7),2)},"%w":function(a){return a.O},"%W":function(a){var b=new Date(a.J,0,1),c=1===b.getDay()?b:P(b,0===b.getDay()?1:7-b.getDay()+1);a=new Date(a.J+1900,a.K,a.M);return 0>g(c,a)?
f(Math.ceil((31-c.getDate()+(ba(la(a.getFullYear())?ma:na,a.getMonth()-1)-31)+a.getDate())/7),2):0===g(c,b)?"01":"00"},"%y":function(a){return(a.J+1900).toString().substring(2)},"%Y":function(a){return a.J+1900},"%z":function(a){a=a.X;var b=0<=a;a=Math.abs(a)/60;return(b?"+":"-")+String("0000"+(a/60*100+a%60)).slice(-4)},"%Z":function(a){return a.$},"%%":function(){return"%"}};for(q in l)0<=c.indexOf(q)&&(c=c.replace(new RegExp(q,"g"),l[q](d)));q=pa(c);if(q.length>b)return 0;Q.set(q,a);return q.length-
1}function pa(a){var b=Array(l(a)+1);k(a,b,0,b.length);return b}function Aa(){function a(){if(!fa&&(fa=!0,!Ja)){t(Qa);t(qa);if(q.onRuntimeInitialized)q.onRuntimeInitialized();if(q.postRun)for("function"==typeof q.postRun&&(q.postRun=[q.postRun]);q.postRun.length;){var a=q.postRun.shift();Ra.unshift(a)}t(Ra)}}if(!(0<Y)){if(q.preRun)for("function"==typeof q.preRun&&(q.preRun=[q.preRun]);q.preRun.length;)n();t(Ha);0<Y||(q.setStatus?(q.setStatus("Running..."),setTimeout(function(){setTimeout(function(){q.setStatus("")},
1);a()},1)):a())}}b=b||{};var q;q||(q="undefined"!==typeof b?b:{});q.compileGLSLZeroCopy=function(a,b,d){d=!!d;if("vertex"===b)var f=0;else if("fragment"===b)f=4;else if("compute"===b)f=5;else throw Error("shader_stage must be 'vertex', 'fragment', or 'compute'");b=q._malloc(4);var e=q._malloc(4),g=h([a,f,d,b,e]);d=c(b);a=c(e);q._free(b);q._free(e);if(0===g)throw Error("GLSL compilation failed");b={};e=d/4;b.data=q.HEAPU32.subarray(e,e+a);b.free=function(){q._destroy_output_buffer(g)};return b};q.compileGLSL=
function(a,b,c){a=q.compileGLSLZeroCopy(a,b,c);b=a.data.slice();a.free();return b};var Z={};for(I in q)q.hasOwnProperty(I)&&(Z[I]=q[I]);var Na="./this.program",va=!1,ea=!1;va="object"===typeof window;ea="function"===typeof importScripts;var M="",ua;if(va||ea)ea?M=self.location.href:document.currentScript&&(M=document.currentScript.src),a&&(M=a),0!==M.indexOf("blob:")?M=M.substr(0,M.lastIndexOf("/")+1):M="",ea&&(ua=function(a){var b=new XMLHttpRequest;b.open("GET",a,!1);b.responseType="arraybuffer";
b.send(null);return new Uint8Array(b.response)});var Ia=q.print||console.log.bind(console),W=q.printErr||console.warn.bind(console);for(I in Z)Z.hasOwnProperty(I)&&(q[I]=Z[I]);Z=null;q.thisProgram&&(Na=q.thisProgram);var da;q.wasmBinary&&(da=q.wasmBinary);"object"!==typeof WebAssembly&&W("no native wasm support detected");var aa;Z=new WebAssembly.Table({initial:861,maximum:861,element:"anyfunc"});var Ja=!1,Ga="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;"undefined"!==typeof TextDecoder&&
new TextDecoder("utf-16le");var ca,Q,J,ka,ta,B,U,ra,sa;var I=q.TOTAL_MEMORY||16777216;q.wasmMemory?aa=q.wasmMemory:aa=new WebAssembly.Memory({initial:I/65536});aa&&(ca=aa.buffer);I=ca.byteLength;G(ca);B[79464]=5560896;var Ha=[],Qa=[],qa=[],Ra=[],Y=0,ha=null;q.preloadedImages={};q.preloadedAudios={};var X="glslang.wasm";p()||(I=X,X=q.locateFile?q.locateFile(I,M):M+I);Qa.push({T:function(){Da()}});var Ca=[null,[],[]],wa=0,Ba={},Ka=void 0,xa={},Ma={},La=void 0,ya=[],R=[{},{value:void 0},{value:null},
{value:!0},{value:!1}],Oa={},za,ma=[31,29,31,30,31,30,31,31,30,31,30,31],na=[31,28,31,30,31,30,31,31,30,31,30,31];M=Array(256);for(I=0;256>I;++I)M[I]=String.fromCharCode(I);Ka=M;La=q.BindingError=z("BindingError");q.InternalError=z("InternalError");q.count_emval_handles=function(){for(var a=0,b=5;b<R.length;++b)void 0!==R[b]&&++a;return a};q.get_first_emval=function(){for(var a=5;a<R.length;++a)if(void 0!==R[a])return R[a];return null};var Ta={j:function(){},g:function(){q.___errno_location&&(B[q.___errno_location()>>
2]=63);return-1},v:function(a,b){wa=b;try{var c=D(),d=D();if(-1===c||0===d)var h=-28;else{var f=Ba.V[c];if(f&&d===f.fa){var e=(void 0).da(f.ca);Ba.ba(c,e,d,f.flags);(void 0).ha(e);Ba.V[c]=null;f.aa&&V(f.ga)}h=0}return h}catch(Fa){return u(Fa),-Fa.S}},d:function(){},s:function(a,b,c,d,f){var h=y(c);b=x(b);F(a,{name:b,fromWireType:function(a){return!!a},toWireType:function(a,b){return b?d:f},argPackAdvance:8,readValueFromPointer:function(a){if(1===c)var d=Q;else if(2===c)d=ka;else if(4===c)d=B;else throw new TypeError("Unknown boolean type size: "+
b);return this.fromWireType(d[a>>h])},L:null})},q:function(a,b){b=x(b);F(a,{name:b,fromWireType:function(a){var b=R[a].value;4<a&&0===--R[a].W&&(R[a]=void 0,ya.push(a));return b},toWireType:function(a,b){return N(b)},argPackAdvance:8,readValueFromPointer:K,L:null})},e:function(a,b,c){c=y(c);b=x(b);F(a,{name:b,fromWireType:function(a){return a},toWireType:function(a,b){if("number"!==typeof b&&"boolean"!==typeof b)throw new TypeError('Cannot convert "'+L(b)+'" to '+this.name);return b},argPackAdvance:8,
readValueFromPointer:S(b,c),L:null})},b:function(a,b,c,d,f){function h(a){return a}b=x(b);-1===f&&(f=4294967295);var e=y(c);if(0===d){var g=32-8*c;h=function(a){return a<<g>>>g}}var k=-1!=b.indexOf("unsigned");F(a,{name:b,fromWireType:h,toWireType:function(a,c){if("number"!==typeof c&&"boolean"!==typeof c)throw new TypeError('Cannot convert "'+L(c)+'" to '+this.name);if(c<d||c>f)throw new TypeError('Passing a number "'+L(c)+'" from JS side to C/C++ side to an argument of type "'+b+'", which is outside the valid range ['+
d+", "+f+"]!");return k?c>>>0:c|0},argPackAdvance:8,readValueFromPointer:T(b,e,0!==d),L:null})},a:function(a,b,c){function d(a){a>>=2;var b=U;return new f(b.buffer,b[a+1],b[a])}var f=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][b];c=x(c);F(a,{name:c,fromWireType:d,argPackAdvance:8,readValueFromPointer:d},{U:!0})},f:function(a,b){b=x(b);var c="std::string"===b;F(a,{name:b,fromWireType:function(a){var b=U[a>>2];if(c){var d=J[a+4+b],f=0;0!=d&&(f=d,J[a+
4+b]=0);var h=a+4;for(d=0;d<=b;++d){var g=a+4+d;if(0==J[g]){h=e(h);if(void 0===k)var k=h;else k+=String.fromCharCode(0),k+=h;h=g+1}}0!=f&&(J[a+4+b]=f)}else{k=Array(b);for(d=0;d<b;++d)k[d]=String.fromCharCode(J[a+4+d]);k=k.join("")}V(a);return k},toWireType:function(a,b){b instanceof ArrayBuffer&&(b=new Uint8Array(b));var d="string"===typeof b;d||b instanceof Uint8Array||b instanceof Uint8ClampedArray||b instanceof Int8Array||H("Cannot pass non-string to std::string");var f=(c&&d?function(){return l(b)}:
function(){return b.length})(),h=Sa(4+f+1);U[h>>2]=f;if(c&&d)k(b,J,h+4,f+1);else if(d)for(d=0;d<f;++d){var e=b.charCodeAt(d);255<e&&(V(h),H("String has UTF-16 code units that do not fit in 8 bits"));J[h+4+d]=e}else for(d=0;d<f;++d)J[h+4+d]=b[d];null!==a&&a.push(V,h);return h},argPackAdvance:8,readValueFromPointer:K,L:function(a){V(a)}})},r:function(a,b,c){c=x(c);if(2===b)var d=function(){return ta},f=1;else 4===b&&(d=function(){return U},f=2);F(a,{name:c,fromWireType:function(a){for(var b=d(),c=U[a>>
2],h=Array(c),e=a+4>>f,g=0;g<c;++g)h[g]=String.fromCharCode(b[e+g]);V(a);return h.join("")},toWireType:function(a,c){var h=c.length,e=Sa(4+h*b),g=d();U[e>>2]=h;for(var k=e+4>>f,l=0;l<h;++l)g[k+l]=c.charCodeAt(l);null!==a&&a.push(V,e);return e},argPackAdvance:8,readValueFromPointer:K,L:function(a){V(a)}})},t:function(a,b){b=x(b);F(a,{ea:!0,name:b,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},c:function(){u()},n:function(a,b,c){J.set(J.subarray(b,b+c),a)},o:function(a){if(2147418112<
a)return!1;for(var b=Math.max(Q.length,16777216);b<a;)536870912>=b?b=m(2*b):b=Math.min(m((3*b+2147483648)/4),2147418112);a:{try{aa.grow(b-ca.byteLength+65535>>16);G(aa.buffer);a=1;break a}catch(Xa){}a=void 0}return a?!0:!1},h:function(a,b){var c=0;C().forEach(function(d,h){var f=b+c;h=B[a+4*h>>2]=f;for(f=0;f<d.length;++f)Q[h++>>0]=d.charCodeAt(f);Q[h>>0]=0;c+=d.length+1});return 0},i:function(a,b){var c=C();B[a>>2]=c.length;var d=0;c.forEach(function(a){d+=a.length+1});B[b>>2]=d;return 0},l:function(){return 0},
m:function(){return 0},k:function(a,b,c,d){try{for(var h=0,e=0;e<c;e++){for(var g=B[b+8*e>>2],k=B[b+(8*e+4)>>2],l=0;l<k;l++){var m=J[g+l],q=Ca[a];0===m||10===m?((1===a?Ia:W)(f(q,0)),q.length=0):q.push(m)}h+=k}B[d>>2]=h;return 0}catch(Pa){return u(Pa),Pa.S}},memory:aa,w:function(){},p:function(){},u:function(a,b,c,d){return oa(a,b,c,d)},table:Z};M=function(){function a(a){q.asm=a.exports;Y--;q.monitorRunDependencies&&q.monitorRunDependencies(Y);0==Y&&ha&&(a=ha,ha=null,a())}function b(b){a(b.instance)}
function c(a){return v().then(function(a){return WebAssembly.instantiate(a,d)}).then(a,function(a){W("failed to asynchronously prepare wasm: "+a);u(a)})}var d={env:Ta,wasi_unstable:Ta};Y++;q.monitorRunDependencies&&q.monitorRunDependencies(Y);if(q.instantiateWasm)try{return q.instantiateWasm(d,a)}catch(Ua){return W("Module.instantiateWasm callback failed with error: "+Ua),!1}(function(){if(da||"function"!==typeof WebAssembly.instantiateStreaming||p()||"function"!==typeof fetch)return c(b);fetch(X,
{credentials:"same-origin"}).then(function(a){return WebAssembly.instantiateStreaming(a,d).then(b,function(a){W("wasm streaming compile failed: "+a);W("falling back to ArrayBuffer instantiation");c(b)})})})();return{}}();q.asm=M;var Da=q.___wasm_call_ctors=function(){return q.asm.x.apply(null,arguments)};q._convert_glsl_to_spirv=function(){return q.asm.y.apply(null,arguments)};q._destroy_output_buffer=function(){return q.asm.z.apply(null,arguments)};var Sa=q._malloc=function(){return q.asm.A.apply(null,
arguments)},V=q._free=function(){return q.asm.B.apply(null,arguments)};q.___getTypeName=function(){return q.asm.C.apply(null,arguments)};q.___embind_register_native_and_builtin_types=function(){return q.asm.D.apply(null,arguments)};var Va=q.stackSave=function(){return q.asm.E.apply(null,arguments)},Ea=q.stackAlloc=function(){return q.asm.F.apply(null,arguments)},Wa=q.stackRestore=function(){return q.asm.G.apply(null,arguments)};q.dynCall_vi=function(){return q.asm.H.apply(null,arguments)};q.dynCall_v=
function(){return q.asm.I.apply(null,arguments)};q.asm=M;var fa;q.then=function(a){if(fa)a(q);else{var b=q.onRuntimeInitialized;q.onRuntimeInitialized=function(){b&&b();a(q)}}return q};ha=function ja(){fa||Aa();fa||(ha=ja)};q.run=Aa;if(q.preInit)for("function"==typeof q.preInit&&(q.preInit=[q.preInit]);0<q.preInit.length;)q.preInit.pop()();Aa();return b}}();"object"===typeof exports&&"object"===typeof module?module.exports=P:"function"===typeof define&&define.amd?define([],function(){return P}):"object"===
typeof exports&&(exports.Module=P);var Ca=(()=>{let a=()=>new Promise((a)=>{P({locateFile(){const a=(document.currentScript&&document.currentScript.src||(new URL("jirachi.js",document.baseURI)).href).lastIndexOf("/");return(document.currentScript&&document.currentScript.src||(new URL("jirachi.js",document.baseURI)).href).substring(0,a)+"/glslang.wasm"},onRuntimeInitialized(){a({compileGLSLZeroCopy:this.compileGLSLZeroCopy,compileGLSL:this.compileGLSL})}})}),b;return()=>{b||(b=a());return b}})(),r=
{EPSILON:1E-6};r.ARRAY_TYPE="undefined"!==typeof Float32Array?Float32Array:Array;r.RANDOM=Math.random;r.ENABLE_SIMD=!1;r.SIMD_AVAILABLE=r.ARRAY_TYPE===Float32Array&&"SIMD"in window;r.USE_SIMD=r.ENABLE_SIMD&&r.SIMD_AVAILABLE;r.setMatrixArrayType=function(a){r.ARRAY_TYPE=a};var Da=Math.PI/180;r.toRadian=function(a){return a*Da};r.equals=function(a,b){return Math.abs(a-b)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};var e=void 0!==window.SIMD?window.SIMD:{},n={scalar:{},SIMD:{},create:function(){var a=
new r.ARRAY_TYPE(16);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},clone:function(a){var b=new r.ARRAY_TYPE(16);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},copy:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=
b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a},fromValues:function(a,b,c,d,h,f,e,k,l,m,G,t,n,u,p,w){var g=new r.ARRAY_TYPE(16);g[0]=a;g[1]=b;g[2]=c;g[3]=d;g[4]=h;g[5]=f;g[6]=e;g[7]=k;g[8]=l;g[9]=m;g[10]=G;g[11]=t;g[12]=n;g[13]=u;g[14]=p;g[15]=w;return g},set:function(a,b,c,d,h,f,e,k,l,m,G,t,n,u,p,r,v){a[0]=b;a[1]=c;a[2]=d;a[3]=h;a[4]=f;a[5]=e;a[6]=k;a[7]=l;a[8]=m;a[9]=G;a[10]=t;a[11]=n;a[12]=u;a[13]=p;a[14]=r;a[15]=v;return a},identity:function(a){a[0]=1;a[1]=0;a[2]=0;
a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}};n.scalar.transpose=function(a,b){if(a===b){var c=b[1],d=b[2],h=b[3],f=b[6],e=b[7],k=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=c;a[6]=b[9];a[7]=b[13];a[8]=d;a[9]=f;a[11]=b[14];a[12]=h;a[13]=e;a[14]=k}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a};n.SIMD.transpose=
function(a,b){var c=window.SIMD;var d=c.Float32x4.load(b,0);var h=c.Float32x4.load(b,4);var f=c.Float32x4.load(b,8);b=c.Float32x4.load(b,12);var e=c.Float32x4.shuffle(d,h,0,1,4,5);var k=c.Float32x4.shuffle(f,b,0,1,4,5);var l=c.Float32x4.shuffle(e,k,0,2,4,6);e=c.Float32x4.shuffle(e,k,1,3,5,7);c.Float32x4.store(a,0,l);c.Float32x4.store(a,4,e);e=c.Float32x4.shuffle(d,h,2,3,6,7);k=c.Float32x4.shuffle(f,b,2,3,6,7);d=c.Float32x4.shuffle(e,k,0,2,4,6);h=c.Float32x4.shuffle(e,k,1,3,5,7);c.Float32x4.store(a,
8,d);c.Float32x4.store(a,12,h);return a};n.transpose=r.USE_SIMD?n.SIMD.transpose:n.scalar.transpose;n.scalar.invert=function(a,b){var c=b[0],d=b[1],h=b[2],f=b[3],e=b[4],k=b[5],l=b[6],m=b[7],G=b[8],t=b[9],n=b[10],u=b[11],p=b[12],r=b[13],v=b[14];b=b[15];var D=c*k-d*e,y=c*l-h*e,x=c*m-f*e,A=d*l-h*k,z=d*m-f*k,H=h*m-f*l,F=G*r-t*p,N=G*v-n*p,K=G*b-u*p,L=t*v-n*r,S=t*b-u*r,T=n*b-u*v,C=D*T-y*S+x*L+A*K-z*N+H*F;if(!C)return null;C=1/C;a[0]=(k*T-l*S+m*L)*C;a[1]=(h*S-d*T-f*L)*C;a[2]=(r*H-v*z+b*A)*C;a[3]=(n*z-t*
H-u*A)*C;a[4]=(l*K-e*T-m*N)*C;a[5]=(c*T-h*K+f*N)*C;a[6]=(v*x-p*H-b*y)*C;a[7]=(G*H-n*x+u*y)*C;a[8]=(e*S-k*K+m*F)*C;a[9]=(d*K-c*S-f*F)*C;a[10]=(p*z-r*x+b*D)*C;a[11]=(t*x-G*z-u*D)*C;a[12]=(k*N-e*L-l*F)*C;a[13]=(c*L-d*N+h*F)*C;a[14]=(r*y-p*A-v*D)*C;a[15]=(G*A-t*y+n*D)*C;return a};n.SIMD.invert=function(a,b){var c=e.Float32x4.load(b,0);var d=e.Float32x4.load(b,4);var h=e.Float32x4.load(b,8);var f=e.Float32x4.load(b,12);b=e.Float32x4.shuffle(c,d,0,1,4,5);var g=e.Float32x4.shuffle(h,f,0,1,4,5);var k=e.Float32x4.shuffle(b,
g,0,2,4,6);g=e.Float32x4.shuffle(g,b,1,3,5,7);b=e.Float32x4.shuffle(c,d,2,3,6,7);var l=e.Float32x4.shuffle(h,f,2,3,6,7);var m=e.Float32x4.shuffle(b,l,0,2,4,6);l=e.Float32x4.shuffle(l,b,1,3,5,7);b=e.Float32x4.mul(m,l);b=e.Float32x4.swizzle(b,1,0,3,2);c=e.Float32x4.mul(g,b);d=e.Float32x4.mul(k,b);b=e.Float32x4.swizzle(b,2,3,0,1);c=e.Float32x4.sub(e.Float32x4.mul(g,b),c);d=e.Float32x4.sub(e.Float32x4.mul(k,b),d);d=e.Float32x4.swizzle(d,2,3,0,1);b=e.Float32x4.mul(g,m);b=e.Float32x4.swizzle(b,1,0,3,2);
c=e.Float32x4.add(e.Float32x4.mul(l,b),c);f=e.Float32x4.mul(k,b);b=e.Float32x4.swizzle(b,2,3,0,1);c=e.Float32x4.sub(c,e.Float32x4.mul(l,b));f=e.Float32x4.sub(e.Float32x4.mul(k,b),f);f=e.Float32x4.swizzle(f,2,3,0,1);b=e.Float32x4.mul(e.Float32x4.swizzle(g,2,3,0,1),l);b=e.Float32x4.swizzle(b,1,0,3,2);m=e.Float32x4.swizzle(m,2,3,0,1);c=e.Float32x4.add(e.Float32x4.mul(m,b),c);h=e.Float32x4.mul(k,b);b=e.Float32x4.swizzle(b,2,3,0,1);c=e.Float32x4.sub(c,e.Float32x4.mul(m,b));h=e.Float32x4.sub(e.Float32x4.mul(k,
b),h);h=e.Float32x4.swizzle(h,2,3,0,1);b=e.Float32x4.mul(k,g);b=e.Float32x4.swizzle(b,1,0,3,2);h=e.Float32x4.add(e.Float32x4.mul(l,b),h);f=e.Float32x4.sub(e.Float32x4.mul(m,b),f);b=e.Float32x4.swizzle(b,2,3,0,1);h=e.Float32x4.sub(e.Float32x4.mul(l,b),h);f=e.Float32x4.sub(f,e.Float32x4.mul(m,b));b=e.Float32x4.mul(k,l);b=e.Float32x4.swizzle(b,1,0,3,2);d=e.Float32x4.sub(d,e.Float32x4.mul(m,b));h=e.Float32x4.add(e.Float32x4.mul(g,b),h);b=e.Float32x4.swizzle(b,2,3,0,1);d=e.Float32x4.add(e.Float32x4.mul(m,
b),d);h=e.Float32x4.sub(h,e.Float32x4.mul(g,b));b=e.Float32x4.mul(k,m);b=e.Float32x4.swizzle(b,1,0,3,2);d=e.Float32x4.add(e.Float32x4.mul(l,b),d);f=e.Float32x4.sub(f,e.Float32x4.mul(g,b));b=e.Float32x4.swizzle(b,2,3,0,1);d=e.Float32x4.sub(d,e.Float32x4.mul(l,b));f=e.Float32x4.add(e.Float32x4.mul(g,b),f);k=e.Float32x4.mul(k,c);k=e.Float32x4.add(e.Float32x4.swizzle(k,2,3,0,1),k);k=e.Float32x4.add(e.Float32x4.swizzle(k,1,0,3,2),k);b=e.Float32x4.reciprocalApproximation(k);k=e.Float32x4.sub(e.Float32x4.add(b,
b),e.Float32x4.mul(k,e.Float32x4.mul(b,b)));k=e.Float32x4.swizzle(k,0,0,0,0);if(!k)return null;e.Float32x4.store(a,0,e.Float32x4.mul(k,c));e.Float32x4.store(a,4,e.Float32x4.mul(k,d));e.Float32x4.store(a,8,e.Float32x4.mul(k,h));e.Float32x4.store(a,12,e.Float32x4.mul(k,f));return a};n.invert=r.USE_SIMD?n.SIMD.invert:n.scalar.invert;n.scalar.adjoint=function(a,b){var c=b[0],d=b[1],h=b[2],f=b[3],e=b[4],k=b[5],l=b[6],m=b[7],n=b[8],t=b[9],p=b[10],u=b[11],r=b[12],w=b[13],v=b[14];b=b[15];a[0]=k*(p*b-u*v)-
t*(l*b-m*v)+w*(l*u-m*p);a[1]=-(d*(p*b-u*v)-t*(h*b-f*v)+w*(h*u-f*p));a[2]=d*(l*b-m*v)-k*(h*b-f*v)+w*(h*m-f*l);a[3]=-(d*(l*u-m*p)-k*(h*u-f*p)+t*(h*m-f*l));a[4]=-(e*(p*b-u*v)-n*(l*b-m*v)+r*(l*u-m*p));a[5]=c*(p*b-u*v)-n*(h*b-f*v)+r*(h*u-f*p);a[6]=-(c*(l*b-m*v)-e*(h*b-f*v)+r*(h*m-f*l));a[7]=c*(l*u-m*p)-e*(h*u-f*p)+n*(h*m-f*l);a[8]=e*(t*b-u*w)-n*(k*b-m*w)+r*(k*u-m*t);a[9]=-(c*(t*b-u*w)-n*(d*b-f*w)+r*(d*u-f*t));a[10]=c*(k*b-m*w)-e*(d*b-f*w)+r*(d*m-f*k);a[11]=-(c*(k*u-m*t)-e*(d*u-f*t)+n*(d*m-f*k));a[12]=
-(e*(t*v-p*w)-n*(k*v-l*w)+r*(k*p-l*t));a[13]=c*(t*v-p*w)-n*(d*v-h*w)+r*(d*p-h*t);a[14]=-(c*(k*v-l*w)-e*(d*v-h*w)+r*(d*l-h*k));a[15]=c*(k*p-l*t)-e*(d*p-h*t)+n*(d*l-h*k);return a};n.SIMD.adjoint=function(a,b){var c=e.Float32x4.load(b,0);var d=e.Float32x4.load(b,4);var h=e.Float32x4.load(b,8);var f=e.Float32x4.load(b,12);var g=e.Float32x4.shuffle(c,d,0,1,4,5);var k=e.Float32x4.shuffle(h,f,0,1,4,5);b=e.Float32x4.shuffle(g,k,0,2,4,6);k=e.Float32x4.shuffle(k,g,1,3,5,7);g=e.Float32x4.shuffle(c,d,2,3,6,7);
d=e.Float32x4.shuffle(h,f,2,3,6,7);c=e.Float32x4.shuffle(g,d,0,2,4,6);d=e.Float32x4.shuffle(d,g,1,3,5,7);g=e.Float32x4.mul(c,d);g=e.Float32x4.swizzle(g,1,0,3,2);h=e.Float32x4.mul(k,g);f=e.Float32x4.mul(b,g);g=e.Float32x4.swizzle(g,2,3,0,1);h=e.Float32x4.sub(e.Float32x4.mul(k,g),h);f=e.Float32x4.sub(e.Float32x4.mul(b,g),f);f=e.Float32x4.swizzle(f,2,3,0,1);g=e.Float32x4.mul(k,c);g=e.Float32x4.swizzle(g,1,0,3,2);h=e.Float32x4.add(e.Float32x4.mul(d,g),h);var l=e.Float32x4.mul(b,g);g=e.Float32x4.swizzle(g,
2,3,0,1);h=e.Float32x4.sub(h,e.Float32x4.mul(d,g));l=e.Float32x4.sub(e.Float32x4.mul(b,g),l);l=e.Float32x4.swizzle(l,2,3,0,1);g=e.Float32x4.mul(e.Float32x4.swizzle(k,2,3,0,1),d);g=e.Float32x4.swizzle(g,1,0,3,2);c=e.Float32x4.swizzle(c,2,3,0,1);h=e.Float32x4.add(e.Float32x4.mul(c,g),h);var m=e.Float32x4.mul(b,g);g=e.Float32x4.swizzle(g,2,3,0,1);h=e.Float32x4.sub(h,e.Float32x4.mul(c,g));m=e.Float32x4.sub(e.Float32x4.mul(b,g),m);m=e.Float32x4.swizzle(m,2,3,0,1);g=e.Float32x4.mul(b,k);g=e.Float32x4.swizzle(g,
1,0,3,2);m=e.Float32x4.add(e.Float32x4.mul(d,g),m);l=e.Float32x4.sub(e.Float32x4.mul(c,g),l);g=e.Float32x4.swizzle(g,2,3,0,1);m=e.Float32x4.sub(e.Float32x4.mul(d,g),m);l=e.Float32x4.sub(l,e.Float32x4.mul(c,g));g=e.Float32x4.mul(b,d);g=e.Float32x4.swizzle(g,1,0,3,2);f=e.Float32x4.sub(f,e.Float32x4.mul(c,g));m=e.Float32x4.add(e.Float32x4.mul(k,g),m);g=e.Float32x4.swizzle(g,2,3,0,1);f=e.Float32x4.add(e.Float32x4.mul(c,g),f);m=e.Float32x4.sub(m,e.Float32x4.mul(k,g));g=e.Float32x4.mul(b,c);g=e.Float32x4.swizzle(g,
1,0,3,2);f=e.Float32x4.add(e.Float32x4.mul(d,g),f);l=e.Float32x4.sub(l,e.Float32x4.mul(k,g));g=e.Float32x4.swizzle(g,2,3,0,1);f=e.Float32x4.sub(f,e.Float32x4.mul(d,g));l=e.Float32x4.add(e.Float32x4.mul(k,g),l);e.Float32x4.store(a,0,h);e.Float32x4.store(a,4,f);e.Float32x4.store(a,8,m);e.Float32x4.store(a,12,l);return a};n.adjoint=r.USE_SIMD?n.SIMD.adjoint:n.scalar.adjoint;n.determinant=function(a){var b=a[0],c=a[1],d=a[2],h=a[3],f=a[4],e=a[5],k=a[6],l=a[7],m=a[8],n=a[9],t=a[10],p=a[11],r=a[12],E=a[13],
w=a[14];a=a[15];return(b*e-c*f)*(t*a-p*w)-(b*k-d*f)*(n*a-p*E)+(b*l-h*f)*(n*w-t*E)+(c*k-d*e)*(m*a-p*r)-(c*l-h*e)*(m*w-t*r)+(d*l-h*k)*(m*E-n*r)};n.SIMD.multiply=function(a,b,c){var d=e.Float32x4.load(b,0),h=e.Float32x4.load(b,4),f=e.Float32x4.load(b,8);b=e.Float32x4.load(b,12);var g=e.Float32x4.load(c,0);g=e.Float32x4.add(e.Float32x4.mul(e.Float32x4.swizzle(g,0,0,0,0),d),e.Float32x4.add(e.Float32x4.mul(e.Float32x4.swizzle(g,1,1,1,1),h),e.Float32x4.add(e.Float32x4.mul(e.Float32x4.swizzle(g,2,2,2,2),
f),e.Float32x4.mul(e.Float32x4.swizzle(g,3,3,3,3),b))));e.Float32x4.store(a,0,g);g=e.Float32x4.load(c,4);g=e.Float32x4.add(e.Float32x4.mul(e.Float32x4.swizzle(g,0,0,0,0),d),e.Float32x4.add(e.Float32x4.mul(e.Float32x4.swizzle(g,1,1,1,1),h),e.Float32x4.add(e.Float32x4.mul(e.Float32x4.swizzle(g,2,2,2,2),f),e.Float32x4.mul(e.Float32x4.swizzle(g,3,3,3,3),b))));e.Float32x4.store(a,4,g);g=e.Float32x4.load(c,8);g=e.Float32x4.add(e.Float32x4.mul(e.Float32x4.swizzle(g,0,0,0,0),d),e.Float32x4.add(e.Float32x4.mul(e.Float32x4.swizzle(g,
1,1,1,1),h),e.Float32x4.add(e.Float32x4.mul(e.Float32x4.swizzle(g,2,2,2,2),f),e.Float32x4.mul(e.Float32x4.swizzle(g,3,3,3,3),b))));e.Float32x4.store(a,8,g);c=e.Float32x4.load(c,12);d=e.Float32x4.add(e.Float32x4.mul(e.Float32x4.swizzle(c,0,0,0,0),d),e.Float32x4.add(e.Float32x4.mul(e.Float32x4.swizzle(c,1,1,1,1),h),e.Float32x4.add(e.Float32x4.mul(e.Float32x4.swizzle(c,2,2,2,2),f),e.Float32x4.mul(e.Float32x4.swizzle(c,3,3,3,3),b))));e.Float32x4.store(a,12,d);return a};n.scalar.multiply=function(a,b,
c){var d=b[0],h=b[1],f=b[2],e=b[3],k=b[4],l=b[5],m=b[6],n=b[7],t=b[8],p=b[9],r=b[10],E=b[11],w=b[12],v=b[13],D=b[14];b=b[15];var y=c[0],x=c[1],A=c[2],z=c[3];a[0]=y*d+x*k+A*t+z*w;a[1]=y*h+x*l+A*p+z*v;a[2]=y*f+x*m+A*r+z*D;a[3]=y*e+x*n+A*E+z*b;y=c[4];x=c[5];A=c[6];z=c[7];a[4]=y*d+x*k+A*t+z*w;a[5]=y*h+x*l+A*p+z*v;a[6]=y*f+x*m+A*r+z*D;a[7]=y*e+x*n+A*E+z*b;y=c[8];x=c[9];A=c[10];z=c[11];a[8]=y*d+x*k+A*t+z*w;a[9]=y*h+x*l+A*p+z*v;a[10]=y*f+x*m+A*r+z*D;a[11]=y*e+x*n+A*E+z*b;y=c[12];x=c[13];A=c[14];z=c[15];
a[12]=y*d+x*k+A*t+z*w;a[13]=y*h+x*l+A*p+z*v;a[14]=y*f+x*m+A*r+z*D;a[15]=y*e+x*n+A*E+z*b;return a};n.multiply=r.USE_SIMD?n.SIMD.multiply:n.scalar.multiply;n.mul=n.multiply;n.scalar.translate=function(a,b,c){var d=c[0],h=c[1];c=c[2];if(b===a)a[12]=b[0]*d+b[4]*h+b[8]*c+b[12],a[13]=b[1]*d+b[5]*h+b[9]*c+b[13],a[14]=b[2]*d+b[6]*h+b[10]*c+b[14],a[15]=b[3]*d+b[7]*h+b[11]*c+b[15];else{var f=b[0];var e=b[1];var k=b[2];var l=b[3];var m=b[4];var n=b[5];var t=b[6];var p=b[7];var r=b[8];var E=b[9];var w=b[10];
var v=b[11];a[0]=f;a[1]=e;a[2]=k;a[3]=l;a[4]=m;a[5]=n;a[6]=t;a[7]=p;a[8]=r;a[9]=E;a[10]=w;a[11]=v;a[12]=f*d+m*h+r*c+b[12];a[13]=e*d+n*h+E*c+b[13];a[14]=k*d+t*h+w*c+b[14];a[15]=l*d+p*h+v*c+b[15]}return a};n.SIMD.translate=function(a,b,c){var d=e.Float32x4.load(b,0),h=e.Float32x4.load(b,4),f=e.Float32x4.load(b,8),g=e.Float32x4.load(b,12);c=e.Float32x4(c[0],c[1],c[2],0);b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11]);
d=e.Float32x4.mul(d,e.Float32x4.swizzle(c,0,0,0,0));h=e.Float32x4.mul(h,e.Float32x4.swizzle(c,1,1,1,1));f=e.Float32x4.mul(f,e.Float32x4.swizzle(c,2,2,2,2));b=e.Float32x4.add(d,e.Float32x4.add(h,e.Float32x4.add(f,g)));e.Float32x4.store(a,12,b);return a};n.translate=r.USE_SIMD?n.SIMD.translate:n.scalar.translate;n.scalar.scale=function(a,b,c){var d=c[0],h=c[1];c=c[2];a[0]=b[0]*d;a[1]=b[1]*d;a[2]=b[2]*d;a[3]=b[3]*d;a[4]=b[4]*h;a[5]=b[5]*h;a[6]=b[6]*h;a[7]=b[7]*h;a[8]=b[8]*c;a[9]=b[9]*c;a[10]=b[10]*c;
a[11]=b[11]*c;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a};n.SIMD.scale=function(a,b,c){var d=window.SIMD;c=d.Float32x4(c[0],c[1],c[2],0);var h=d.Float32x4.load(b,0);d.Float32x4.store(a,0,d.Float32x4.mul(h,d.Float32x4.swizzle(c,0,0,0,0)));h=d.Float32x4.load(b,4);d.Float32x4.store(a,4,d.Float32x4.mul(h,d.Float32x4.swizzle(c,1,1,1,1)));h=d.Float32x4.load(b,8);d.Float32x4.store(a,8,d.Float32x4.mul(h,d.Float32x4.swizzle(c,2,2,2,2)));a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a};
n.scale=r.USE_SIMD?n.SIMD.scale:n.scalar.scale;n.rotate=function(a,b,c,d){var h=d[0],f=d[1];d=d[2];var e=Math.sqrt(h*h+f*f+d*d);if(Math.abs(e)<r.EPSILON)return null;e=1/e;h*=e;f*=e;d*=e;var k=Math.sin(c);var l=Math.cos(c);var m=1-l;c=b[0];e=b[1];var n=b[2];var t=b[3];var p=b[4];var u=b[5];var E=b[6];var w=b[7];var v=b[8];var D=b[9];var y=b[10];var x=b[11];var A=h*h*m+l;var z=f*h*m+d*k;var H=d*h*m-f*k;var F=h*f*m-d*k;var N=f*f*m+l;var K=d*f*m+h*k;var L=h*d*m+f*k;h=f*d*m-h*k;f=d*d*m+l;a[0]=c*A+p*z+
v*H;a[1]=e*A+u*z+D*H;a[2]=n*A+E*z+y*H;a[3]=t*A+w*z+x*H;a[4]=c*F+p*N+v*K;a[5]=e*F+u*N+D*K;a[6]=n*F+E*N+y*K;a[7]=t*F+w*N+x*K;a[8]=c*L+p*h+v*f;a[9]=e*L+u*h+D*f;a[10]=n*L+E*h+y*f;a[11]=t*L+w*h+x*f;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a};n.scalar.rotateX=function(a,b,c){var d=Math.sin(c);c=Math.cos(c);var e=b[4],f=b[5],g=b[6],k=b[7],l=b[8],m=b[9],n=b[10],p=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=e*c+l*d;a[5]=
f*c+m*d;a[6]=g*c+n*d;a[7]=k*c+p*d;a[8]=l*c-e*d;a[9]=m*c-f*d;a[10]=n*c-g*d;a[11]=p*c-k*d;return a};n.SIMD.rotateX=function(a,b,c){var d=window.SIMD,e=d.Float32x4.splat(Math.sin(c));c=d.Float32x4.splat(Math.cos(c));b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);var f=d.Float32x4.load(b,4);b=d.Float32x4.load(b,8);d.Float32x4.store(a,4,d.Float32x4.add(d.Float32x4.mul(f,c),d.Float32x4.mul(b,e)));d.Float32x4.store(a,8,d.Float32x4.sub(d.Float32x4.mul(b,c),
d.Float32x4.mul(f,e)));return a};n.rotateX=r.USE_SIMD?n.SIMD.rotateX:n.scalar.rotateX;n.scalar.rotateY=function(a,b,c){var d=Math.sin(c);c=Math.cos(c);var e=b[0],f=b[1],g=b[2],k=b[3],l=b[8],m=b[9],n=b[10],p=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=e*c-l*d;a[1]=f*c-m*d;a[2]=g*c-n*d;a[3]=k*c-p*d;a[8]=e*d+l*c;a[9]=f*d+m*c;a[10]=g*d+n*c;a[11]=k*d+p*c;return a};n.SIMD.rotateY=function(a,b,c){var d=window.SIMD,e=d.Float32x4.splat(Math.sin(c));
c=d.Float32x4.splat(Math.cos(c));b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);var f=d.Float32x4.load(b,0);b=d.Float32x4.load(b,8);d.Float32x4.store(a,0,d.Float32x4.sub(d.Float32x4.mul(f,c),d.Float32x4.mul(b,e)));d.Float32x4.store(a,8,d.Float32x4.add(d.Float32x4.mul(f,e),d.Float32x4.mul(b,c)));return a};n.rotateY=r.USE_SIMD?n.SIMD.rotateY:n.scalar.rotateY;n.scalar.rotateZ=function(a,b,c){var d=Math.sin(c);c=Math.cos(c);var e=b[0],f=b[1],g=b[2],k=
b[3],l=b[4],m=b[5],n=b[6],p=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=e*c+l*d;a[1]=f*c+m*d;a[2]=g*c+n*d;a[3]=k*c+p*d;a[4]=l*c-e*d;a[5]=m*c-f*d;a[6]=n*c-g*d;a[7]=p*c-k*d;return a};n.SIMD.rotateZ=function(a,b,c){var d=window.SIMD,e=d.Float32x4.splat(Math.sin(c));c=d.Float32x4.splat(Math.cos(c));b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);var f=d.Float32x4.load(b,0);b=d.Float32x4.load(b,
4);d.Float32x4.store(a,0,d.Float32x4.add(d.Float32x4.mul(f,c),d.Float32x4.mul(b,e)));d.Float32x4.store(a,4,d.Float32x4.sub(d.Float32x4.mul(b,c),d.Float32x4.mul(f,e)));return a};n.rotateZ=r.USE_SIMD?n.SIMD.rotateZ:n.scalar.rotateZ;n.fromTranslation=function(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a};n.fromScaling=function(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b[1];a[6]=0;a[7]=0;a[8]=0;a[9]=
0;a[10]=b[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};n.fromRotation=function(a,b,c){var d=c[0],e=c[1];c=c[2];var f=Math.sqrt(d*d+e*e+c*c);if(Math.abs(f)<r.EPSILON)return null;f=1/f;d*=f;e*=f;c*=f;f=Math.sin(b);b=Math.cos(b);var g=1-b;a[0]=d*d*g+b;a[1]=e*d*g+c*f;a[2]=c*d*g-e*f;a[3]=0;a[4]=d*e*g-c*f;a[5]=e*e*g+b;a[6]=c*e*g+d*f;a[7]=0;a[8]=d*c*g+e*f;a[9]=e*c*g-d*f;a[10]=c*c*g+b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};n.fromXRotation=function(a,b){var c=Math.sin(b);b=Math.cos(b);a[0]=
1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=c;a[7]=0;a[8]=0;a[9]=-c;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};n.fromYRotation=function(a,b){var c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=0;a[2]=-c;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=c;a[9]=0;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};n.fromZRotation=function(a,b){var c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=c;a[2]=0;a[3]=0;a[4]=-c;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};
n.fromRotationTranslation=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],k=d+d,l=e+e,m=f+f;b=d*k;var n=d*l;d*=m;var p=e*l;e*=m;f*=m;k*=g;l*=g;g*=m;a[0]=1-(p+f);a[1]=n+g;a[2]=d-l;a[3]=0;a[4]=n-g;a[5]=1-(b+f);a[6]=e+k;a[7]=0;a[8]=d+l;a[9]=e-k;a[10]=1-(b+p);a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a};n.getTranslation=function(a,b){a[0]=b[12];a[1]=b[13];a[2]=b[14];return a};n.getRotation=function(a,b){var c=b[0]+b[5]+b[10];0<c?(c=2*Math.sqrt(c+1),a[3]=.25*c,a[0]=(b[6]-b[9])/c,a[1]=(b[8]-
b[2])/c,a[2]=(b[1]-b[4])/c):b[0]>b[5]&&b[0]>b[10]?(c=2*Math.sqrt(1+b[0]-b[5]-b[10]),a[3]=(b[6]-b[9])/c,a[0]=.25*c,a[1]=(b[1]+b[4])/c,a[2]=(b[8]+b[2])/c):b[5]>b[10]?(c=2*Math.sqrt(1+b[5]-b[0]-b[10]),a[3]=(b[8]-b[2])/c,a[0]=(b[1]+b[4])/c,a[1]=.25*c,a[2]=(b[6]+b[9])/c):(c=2*Math.sqrt(1+b[10]-b[0]-b[5]),a[3]=(b[1]-b[4])/c,a[0]=(b[8]+b[2])/c,a[1]=(b[6]+b[9])/c,a[2]=.25*c);return a};n.fromRotationTranslationScale=function(a,b,c,d){var e=b[0],f=b[1],g=b[2],k=b[3],l=e+e,m=f+f,n=g+g;b=e*l;var p=e*m;e*=n;var r=
f*m;f*=n;g*=n;l*=k;m*=k;k*=n;n=d[0];var u=d[1];d=d[2];a[0]=(1-(r+g))*n;a[1]=(p+k)*n;a[2]=(e-m)*n;a[3]=0;a[4]=(p-k)*u;a[5]=(1-(b+g))*u;a[6]=(f+l)*u;a[7]=0;a[8]=(e+m)*d;a[9]=(f-l)*d;a[10]=(1-(b+r))*d;a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a};n.fromRotationTranslationScaleOrigin=function(a,b,c,d,e){var f=b[0],h=b[1],k=b[2],l=b[3],m=f+f,n=h+h,p=k+k;b=f*m;var r=f*n;f*=p;var u=h*n;h*=p;k*=p;m*=l;n*=l;l*=p;p=d[0];var E=d[1];d=d[2];var w=e[0],v=e[1];e=e[2];a[0]=(1-(u+k))*p;a[1]=(r+l)*p;a[2]=
(f-n)*p;a[3]=0;a[4]=(r-l)*E;a[5]=(1-(b+k))*E;a[6]=(h+m)*E;a[7]=0;a[8]=(f+n)*d;a[9]=(h-m)*d;a[10]=(1-(b+u))*d;a[11]=0;a[12]=c[0]+w-(a[0]*w+a[4]*v+a[8]*e);a[13]=c[1]+v-(a[1]*w+a[5]*v+a[9]*e);a[14]=c[2]+e-(a[2]*w+a[6]*v+a[10]*e);a[15]=1;return a};n.fromQuat=function(a,b){var c=b[0],d=b[1],e=b[2];b=b[3];var f=c+c,g=d+d,k=e+e;c*=f;var l=d*f;d*=g;var m=e*f,n=e*g;e*=k;f*=b;g*=b;b*=k;a[0]=1-d-e;a[1]=l+b;a[2]=m-g;a[3]=0;a[4]=l-b;a[5]=1-c-e;a[6]=n+f;a[7]=0;a[8]=m+g;a[9]=n-f;a[10]=1-c-d;a[11]=0;a[12]=0;a[13]=
0;a[14]=0;a[15]=1;return a};n.frustum=function(a,b,c,d,e,f,g){var h=1/(c-b),l=1/(e-d),m=1/(f-g);a[0]=2*f*h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*f*l;a[6]=0;a[7]=0;a[8]=(c+b)*h;a[9]=(e+d)*l;a[10]=(g+f)*m;a[11]=-1;a[12]=0;a[13]=0;a[14]=g*f*2*m;a[15]=0;return a};n.perspective=function(a,b,c,d,e){b=1/Math.tan(b/2);var f=1/(d-e);a[0]=b/c;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=(e+d)*f;a[11]=-1;a[12]=0;a[13]=0;a[14]=2*e*d*f;a[15]=0;return a};n.perspectiveFromFieldOfView=function(a,
b,c,d){var e=Math.tan(b.upDegrees*Math.PI/180),f=Math.tan(b.downDegrees*Math.PI/180),g=Math.tan(b.leftDegrees*Math.PI/180);b=Math.tan(b.rightDegrees*Math.PI/180);var k=2/(g+b),l=2/(e+f);a[0]=k;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=l;a[6]=0;a[7]=0;a[8]=-((g-b)*k*.5);a[9]=(e-f)*l*.5;a[10]=d/(c-d);a[11]=-1;a[12]=0;a[13]=0;a[14]=d*c/(c-d);a[15]=0;return a};n.ortho=function(a,b,c,d,e,f,g){var h=1/(b-c),l=1/(d-e),m=1/(f-g);a[0]=-2*h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*l;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*m;
a[11]=0;a[12]=(b+c)*h;a[13]=(e+d)*l;a[14]=(g+f)*m;a[15]=1;return a};n.lookAt=function(a,b,c,d){var e=b[0],f=b[1];b=b[2];var g=d[0];var k=d[1];var l=d[2];var m=c[0];d=c[1];var p=c[2];if(Math.abs(e-m)<r.EPSILON&&Math.abs(f-d)<r.EPSILON&&Math.abs(b-p)<r.EPSILON)return n.identity(a);c=e-m;d=f-d;m=b-p;var t=1/Math.sqrt(c*c+d*d+m*m);c*=t;d*=t;m*=t;p=k*m-l*d;l=l*c-g*m;g=g*d-k*c;(t=Math.sqrt(p*p+l*l+g*g))?(t=1/t,p*=t,l*=t,g*=t):g=l=p=0;k=d*g-m*l;var O=m*p-c*g;var u=c*l-d*p;(t=Math.sqrt(k*k+O*O+u*u))?(t=1/
t,k*=t,O*=t,u*=t):u=O=k=0;a[0]=p;a[1]=k;a[2]=c;a[3]=0;a[4]=l;a[5]=O;a[6]=d;a[7]=0;a[8]=g;a[9]=u;a[10]=m;a[11]=0;a[12]=-(p*e+l*f+g*b);a[13]=-(k*e+O*f+u*b);a[14]=-(c*e+d*f+m*b);a[15]=1;return a};n.str=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"};n.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],
2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))};n.add=function(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];a[4]=b[4]+c[4];a[5]=b[5]+c[5];a[6]=b[6]+c[6];a[7]=b[7]+c[7];a[8]=b[8]+c[8];a[9]=b[9]+c[9];a[10]=b[10]+c[10];a[11]=b[11]+c[11];a[12]=b[12]+c[12];a[13]=b[13]+c[13];a[14]=b[14]+c[14];a[15]=b[15]+c[15];return a};n.subtract=function(a,
b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];a[4]=b[4]-c[4];a[5]=b[5]-c[5];a[6]=b[6]-c[6];a[7]=b[7]-c[7];a[8]=b[8]-c[8];a[9]=b[9]-c[9];a[10]=b[10]-c[10];a[11]=b[11]-c[11];a[12]=b[12]-c[12];a[13]=b[13]-c[13];a[14]=b[14]-c[14];a[15]=b[15]-c[15];return a};n.sub=n.subtract;n.multiplyScalar=function(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;a[4]=b[4]*c;a[5]=b[5]*c;a[6]=b[6]*c;a[7]=b[7]*c;a[8]=b[8]*c;a[9]=b[9]*c;a[10]=b[10]*c;a[11]=b[11]*c;a[12]=b[12]*c;a[13]=b[13]*c;a[14]=
b[14]*c;a[15]=b[15]*c;return a};n.multiplyScalarAndAdd=function(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=b[1]+c[1]*d;a[2]=b[2]+c[2]*d;a[3]=b[3]+c[3]*d;a[4]=b[4]+c[4]*d;a[5]=b[5]+c[5]*d;a[6]=b[6]+c[6]*d;a[7]=b[7]+c[7]*d;a[8]=b[8]+c[8]*d;a[9]=b[9]+c[9]*d;a[10]=b[10]+c[10]*d;a[11]=b[11]+c[11]*d;a[12]=b[12]+c[12]*d;a[13]=b[13]+c[13]*d;a[14]=b[14]+c[14]*d;a[15]=b[15]+c[15]*d;return a};n.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===
b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]};n.equals=function(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],k=a[5],l=a[6],m=a[7],n=a[8],p=a[9],O=a[10],u=a[11],E=a[12],w=a[13],v=a[14];a=a[15];var D=b[0],y=b[1],x=b[2],A=b[3],z=b[4],H=b[5],F=b[6],N=b[7],K=b[8],L=b[9],S=b[10],T=b[11],C=b[12],P=b[13],ba=b[14];b=b[15];return Math.abs(c-D)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(D))&&Math.abs(d-y)<=r.EPSILON*Math.max(1,Math.abs(d),
Math.abs(y))&&Math.abs(e-x)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(x))&&Math.abs(f-A)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(g-z)<=r.EPSILON*Math.max(1,Math.abs(g),Math.abs(z))&&Math.abs(k-H)<=r.EPSILON*Math.max(1,Math.abs(k),Math.abs(H))&&Math.abs(l-F)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(F))&&Math.abs(m-N)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(N))&&Math.abs(n-K)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(K))&&Math.abs(p-L)<=r.EPSILON*Math.max(1,Math.abs(p),Math.abs(L))&&
Math.abs(O-S)<=r.EPSILON*Math.max(1,Math.abs(O),Math.abs(S))&&Math.abs(u-T)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(E-C)<=r.EPSILON*Math.max(1,Math.abs(E),Math.abs(C))&&Math.abs(w-P)<=r.EPSILON*Math.max(1,Math.abs(w),Math.abs(P))&&Math.abs(v-ba)<=r.EPSILON*Math.max(1,Math.abs(v),Math.abs(ba))&&Math.abs(a-b)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};var p={create:function(){var a=new r.ARRAY_TYPE(3);a[0]=0;a[1]=0;a[2]=0;return a},clone:function(a){var b=new r.ARRAY_TYPE(3);b[0]=
a[0];b[1]=a[1];b[2]=a[2];return b},fromValues:function(a,b,c){var d=new r.ARRAY_TYPE(3);d[0]=a;d[1]=b;d[2]=c;return d},copy:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];return a},set:function(a,b,c,d){a[0]=b;a[1]=c;a[2]=d;return a},add:function(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];return a},subtract:function(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];return a}};p.sub=p.subtract;p.multiply=function(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];a[2]=b[2]*c[2];return a};p.mul=p.multiply;
p.divide=function(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];a[2]=b[2]/c[2];return a};p.div=p.divide;p.ceil=function(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);a[2]=Math.ceil(b[2]);return a};p.floor=function(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);a[2]=Math.floor(b[2]);return a};p.min=function(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);a[2]=Math.min(b[2],c[2]);return a};p.max=function(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);a[2]=Math.max(b[2],c[2]);return a};
p.round=function(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);a[2]=Math.round(b[2]);return a};p.scale=function(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;return a};p.scaleAndAdd=function(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=b[1]+c[1]*d;a[2]=b[2]+c[2]*d;return a};p.distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];a=b[2]-a[2];return Math.sqrt(c*c+d*d+a*a)};p.dist=p.distance;p.squaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];a=b[2]-a[2];return c*c+d*d+a*a};p.sqrDist=p.squaredDistance;p.length=
function(a){var b=a[0],c=a[1];a=a[2];return Math.sqrt(b*b+c*c+a*a)};p.len=p.length;p.squaredLength=function(a){var b=a[0],c=a[1];a=a[2];return b*b+c*c+a*a};p.sqrLen=p.squaredLength;p.negate=function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];return a};p.inverse=function(a,b){a[0]=1/b[0];a[1]=1/b[1];a[2]=1/b[2];return a};p.normalize=function(a,b){var c=b[0],d=b[1],e=b[2];c=c*c+d*d+e*e;0<c&&(c=1/Math.sqrt(c),a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c);return a};p.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*
b[2]};p.cross=function(a,b,c){var d=b[0],e=b[1];b=b[2];var f=c[0],g=c[1];c=c[2];a[0]=e*c-b*g;a[1]=b*f-d*c;a[2]=d*g-e*f;return a};p.lerp=function(a,b,c,d){var e=b[0],f=b[1];b=b[2];a[0]=e+d*(c[0]-e);a[1]=f+d*(c[1]-f);a[2]=b+d*(c[2]-b);return a};p.hermite=function(a,b,c,d,e,f){var h=f*f,k=h*(2*f-3)+1,l=h*(f-2)+f,m=h*(f-1);f=h*(3-2*f);a[0]=b[0]*k+c[0]*l+d[0]*m+e[0]*f;a[1]=b[1]*k+c[1]*l+d[1]*m+e[1]*f;a[2]=b[2]*k+c[2]*l+d[2]*m+e[2]*f;return a};p.bezier=function(a,b,c,d,e,f){var h=1-f,k=h*h,l=f*f,m=k*h;
k*=3*f;h*=3*l;f*=l;a[0]=b[0]*m+c[0]*k+d[0]*h+e[0]*f;a[1]=b[1]*m+c[1]*k+d[1]*h+e[1]*f;a[2]=b[2]*m+c[2]*k+d[2]*h+e[2]*f;return a};p.random=function(a,b){b=b||1;var c=2*r.RANDOM()*Math.PI,d=2*r.RANDOM()-1,e=Math.sqrt(1-d*d)*b;a[0]=Math.cos(c)*e;a[1]=Math.sin(c)*e;a[2]=d*b;return a};p.transformMat4=function(a,b,c){var d=b[0],e=b[1];b=b[2];var f=c[3]*d+c[7]*e+c[11]*b+c[15];f=f||1;a[0]=(c[0]*d+c[4]*e+c[8]*b+c[12])/f;a[1]=(c[1]*d+c[5]*e+c[9]*b+c[13])/f;a[2]=(c[2]*d+c[6]*e+c[10]*b+c[14])/f;return a};p.transformMat3=
function(a,b,c){var d=b[0],e=b[1];b=b[2];a[0]=d*c[0]+e*c[3]+b*c[6];a[1]=d*c[1]+e*c[4]+b*c[7];a[2]=d*c[2]+e*c[5]+b*c[8];return a};p.transformQuat=function(a,b,c){var d=b[0],e=b[1],f=b[2];b=c[0];var g=c[1],k=c[2];c=c[3];var l=c*d+g*f-k*e,m=c*e+k*d-b*f,n=c*f+b*e-g*d;d=-b*d-g*e-k*f;a[0]=l*c+d*-b+m*-k-n*-g;a[1]=m*c+d*-g+n*-b-l*-k;a[2]=n*c+d*-k+l*-g-m*-b;return a};p.rotateX=function(a,b,c,d){var e=[],f=[];e[0]=b[0]-c[0];e[1]=b[1]-c[1];e[2]=b[2]-c[2];f[0]=e[0];f[1]=e[1]*Math.cos(d)-e[2]*Math.sin(d);f[2]=
e[1]*Math.sin(d)+e[2]*Math.cos(d);a[0]=f[0]+c[0];a[1]=f[1]+c[1];a[2]=f[2]+c[2];return a};p.rotateY=function(a,b,c,d){var e=[],f=[];e[0]=b[0]-c[0];e[1]=b[1]-c[1];e[2]=b[2]-c[2];f[0]=e[2]*Math.sin(d)+e[0]*Math.cos(d);f[1]=e[1];f[2]=e[2]*Math.cos(d)-e[0]*Math.sin(d);a[0]=f[0]+c[0];a[1]=f[1]+c[1];a[2]=f[2]+c[2];return a};p.rotateZ=function(a,b,c,d){var e=[],f=[];e[0]=b[0]-c[0];e[1]=b[1]-c[1];e[2]=b[2]-c[2];f[0]=e[0]*Math.cos(d)-e[1]*Math.sin(d);f[1]=e[0]*Math.sin(d)+e[1]*Math.cos(d);f[2]=e[2];a[0]=f[0]+
c[0];a[1]=f[1]+c[1];a[2]=f[2]+c[2];return a};p.forEach=function(){var a=p.create();return function(b,c,d,e,f,g){c||(c=3);d||(d=0);for(e=e?Math.min(e*c+d,b.length):b.length;d<e;d+=c)a[0]=b[d],a[1]=b[d+1],a[2]=b[d+2],f(a,a,g),b[d]=a[0],b[d+1]=a[1],b[d+2]=a[2];return b}}();p.angle=function(a,b){a=p.fromValues(a[0],a[1],a[2]);b=p.fromValues(b[0],b[1],b[2]);p.normalize(a,a);p.normalize(b,b);b=p.dot(a,b);return 1<b?0:Math.acos(b)};p.str=function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"};p.exactEquals=
function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]};p.equals=function(a,b){var c=a[0],d=a[1];a=a[2];var e=b[0],f=b[1];b=b[2];return Math.abs(c-e)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(e))&&Math.abs(d-f)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(f))&&Math.abs(a-b)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};if(!navigator.gpu)throw alert("Unable to start - your browser doesn't support WebGPU"),Error("Your browser does not support WebGPU");navigator.gpu.requestAdapter().then(function(a){a.requestDevice().then(function(a){Ca().then(function(b){qa(a,
b)})})})})();
