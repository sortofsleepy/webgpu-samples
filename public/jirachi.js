'use strict';(function(){function pa(a,b){function c(){var a=l.create();l.translate(a,a,n.fromValues(0,0,-5));var b=Date.now()/1E3;l.rotate(a,a,1,n.fromValues(Math.sin(b),Math.cos(b),0));b=l.create();l.multiply(b,f,a);return b}var d=document.createElement("canvas"),h=d.getContext("gpupresent"),f=l.create();l.perspective(f,2*Math.PI/5,Math.abs(d.width/d.height),1,1E3);document.body.appendChild(d);d.width=window.innerWidth;d.height=window.innerHeight;var e=h.configureSwapChain({device:a,format:"bgra8unorm"}),
k=a.createBuffer({size:ca.vertices.byteLength,usage:GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST});k.setSubData(0,ca.vertices);h=a.createBindGroupLayout({bindings:[{binding:0,visibility:1,type:"uniform-buffer"}]});for(var p=a.createBuffer({size:64,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),m=a.createBindGroup({layout:h,bindings:[{binding:0,resource:{buffer:p}}]}),B=[],x=0;1600>x;++x)B.push(Math.random(),Math.random(),Math.random());B=new Float32Array(B);var M=a.createBuffer({size:B.byteLength,
usage:GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST});M.setSubData(0,B);h=a.createPipelineLayout({bindGroupLayouts:[h]});var t=a.createRenderPipeline({layout:h,vertexStage:{module:a.createShaderModule({code:b.compileGLSL("#version 450\nlayout(set = 0, binding = 0) uniform Uniforms {\n  mat4 modelViewProjectionMatrix;\n} uniforms;\n\n\n//layout(location = 0) in vec4 position;\nlayout(location = 0) in vec2 position;\nlayout(location = 1) in vec3 iPosition;\n\nlayout(location = 0) out vec3 vColor;\nvoid main() {\n // gl_Position = uniforms.modelViewProjectionMatrix * position;\n gl_Position = uniforms.modelViewProjectionMatrix * vec4(position + iPosition.xy,iPosition.z,1.);\nvColor = iPosition;\n}\n",
"vertex"),source:"#version 450\nlayout(set = 0, binding = 0) uniform Uniforms {\n  mat4 modelViewProjectionMatrix;\n} uniforms;\n\n\n//layout(location = 0) in vec4 position;\nlayout(location = 0) in vec2 position;\nlayout(location = 1) in vec3 iPosition;\n\nlayout(location = 0) out vec3 vColor;\nvoid main() {\n // gl_Position = uniforms.modelViewProjectionMatrix * position;\n gl_Position = uniforms.modelViewProjectionMatrix * vec4(position + iPosition.xy,iPosition.z,1.);\nvColor = iPosition;\n}\n"}),
entryPoint:"main"},fragmentStage:{module:a.createShaderModule({code:b.compileGLSL("#version 450\n\nlayout(location = 0) out vec4 outColor;\nlayout(location = 0) in vec3 vColor;\nvoid main() {\n  outColor = vec4(vColor,1.0);\n}\n","fragment"),source:"#version 450\n\nlayout(location = 0) out vec4 outColor;\nlayout(location = 0) in vec3 vColor;\nvoid main() {\n  outColor = vec4(vColor,1.0);\n}\n"}),entryPoint:"main"},primitiveTopology:"triangle-list",depthStencilState:{depthWriteEnabled:!0,depthCompare:"less",
format:"depth24plus-stencil8"},vertexState:{vertexBuffers:[{arrayStride:ca.vertexSize,attributes:[{shaderLocation:0,offset:0,format:"float2"}]},{arrayStride:12,attributes:[{shaderLocation:1,offset:0,format:"float3"}]}]},rasterizationState:{cullMode:"none"},colorStates:[{format:"bgra8unorm"}]}),r={colorAttachments:[{attachment:void 0,loadValue:{r:.5,g:.5,b:.5,a:1}}],depthStencilAttachment:{attachment:a.createTexture({size:{width:d.width,height:d.height,depth:1},format:"depth24plus-stencil8",usage:GPUTextureUsage.OUTPUT_ATTACHMENT}).createView(),
depthLoadValue:1,depthStoreOp:"store",stencilLoadValue:0,stencilStoreOp:"store"}},v=function(){requestAnimationFrame(v);p.setSubData(0,c());r.colorAttachments[0].attachment=e.getCurrentTexture().createView();var b=a.createCommandEncoder({}),d=b.beginRenderPass(r);d.setPipeline(t);d.setBindGroup(0,m);d.setVertexBuffer(0,k);d.setVertexBuffer(1,M);d.draw(4800,1600,0,0);d.endPass();a.defaultQueue.submit([b.finish()])};v()}var P=function(){var a="undefined"!==typeof document&&document.currentScript?document.currentScript.src:
void 0;return function(b){function c(a){var b="i32";"*"===b.charAt(b.length-1)&&(b="i32");switch(b){case "i1":return Q[a>>0];case "i8":return Q[a>>0];case "i16":return la[a>>1];case "i32":return C[a>>2];case "i64":return C[a>>2];case "float":return qa[a>>2];case "double":return ra[a>>3];default:t("invalid type for getValue: "+b)}return null}function d(){var a=q._convert_glsl_to_spirv;a||t("Assertion failed: Cannot call unknown function convert_glsl_to_spirv, make sure it is exported");return a}function h(a){var b=
["string","number","boolean","number","number"],c={string:function(a){var b=0;if(null!==a&&void 0!==a&&0!==a){var c=(a.length<<2)+1;b=Da(c);k(a,J,b,c)}return b},array:function(a){var b=Da(a.length);Q.set(a,b);return b}},h=d(),f=[],e=0;if(a)for(var g=0;g<a.length;g++){var ja=c[b[g]];ja?(0===e&&(e=Ua()),f[g]=ja(a[g])):f[g]=a[g]}a=h.apply(null,f);0!==e&&Va(e);return a}function f(a,b,c){var d=b+c;for(c=b;a[c]&&!(c>=d);)++c;if(16<c-b&&a.subarray&&Fa)return Fa.decode(a.subarray(b,c));for(d="";b<c;){var h=
a[b++];if(h&128){var f=a[b++]&63;if(192==(h&224))d+=String.fromCharCode((h&31)<<6|f);else{var e=a[b++]&63;h=224==(h&240)?(h&15)<<12|f<<6|e:(h&7)<<18|f<<12|e<<6|a[b++]&63;65536>h?d+=String.fromCharCode(h):(h-=65536,d+=String.fromCharCode(55296|h>>10,56320|h&1023))}}else d+=String.fromCharCode(h)}return d}function e(a){return a?f(J,a,void 0):""}function k(a,b,c,d){if(0<d){d=c+d-1;for(var h=0;h<a.length;++h){var f=a.charCodeAt(h);if(55296<=f&&57343>=f){var e=a.charCodeAt(++h);f=65536+((f&1023)<<10)|
e&1023}if(127>=f){if(c>=d)break;b[c++]=f}else{if(2047>=f){if(c+1>=d)break;b[c++]=192|f>>6}else{if(65535>=f){if(c+2>=d)break;b[c++]=224|f>>12}else{if(c+3>=d)break;b[c++]=240|f>>18;b[c++]=128|f>>12&63}b[c++]=128|f>>6&63}b[c++]=128|f&63}}b[c]=0}}function p(a){for(var b=0,c=0;c<a.length;++c){var d=a.charCodeAt(c);55296<=d&&57343>=d&&(d=65536+((d&1023)<<10)|a.charCodeAt(++c)&1023);127>=d?++b:b=2047>=d?b+2:65535>=d?b+3:b+4}return b}function m(a){0<a%65536&&(a+=65536-a%65536);return a}function B(a){da=a;
q.HEAP8=Q=new Int8Array(a);q.HEAP16=la=new Int16Array(a);q.HEAP32=C=new Int32Array(a);q.HEAPU8=J=new Uint8Array(a);q.HEAPU16=sa=new Uint16Array(a);q.HEAPU32=U=new Uint32Array(a);q.HEAPF32=qa=new Float32Array(a);q.HEAPF64=ra=new Float64Array(a)}function x(a){for(;0<a.length;){var b=a.shift();if("function"==typeof b)b();else{var c=b.T;"number"===typeof c?void 0===b.R?q.dynCall_v(c):q.dynCall_vi(c,b.R):c(void 0===b.R?null:b.R)}}}function l(){var a=q.preRun.shift();Ga.unshift(a)}function t(a){if(q.onAbort)q.onAbort(a);
Ha(a);W(a);Ia=!0;throw new WebAssembly.RuntimeError("abort("+a+"). Build with -s ASSERTIONS=1 for more info.");}function r(){var a=X;return String.prototype.startsWith?a.startsWith("data:application/octet-stream;base64,"):0===a.indexOf("data:application/octet-stream;base64,")}function v(){try{if(ea)return new Uint8Array(ea);if(ta)return ta(X);throw"both async and sync fetching of the wasm failed";}catch(ja){t(ja)}}function u(){return ea||!ua&&!fa||"function"!==typeof fetch?new Promise(function(a){a(v())}):
fetch(X,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+X+"'";return a.arrayBuffer()}).catch(function(){return v()})}function n(){va+=4;return C[va-4>>2]}function y(a){switch(a){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+a);}}function w(a){for(var b="";J[a];)b+=Ja[J[a++]];return b}function A(a,b){if(void 0===a)a="_unknown";else{a=a.replace(/[^a-zA-Z0-9_]/g,"$");var c=a.charCodeAt(0);
a=48<=c&&57>=c?"_"+a:a}return(new Function("body","return function "+a+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n'))(b)}function z(a){var b=Error,c=A(a,function(b){this.name=a;this.message=b;b=Error(b).stack;void 0!==b&&(this.stack=this.toString()+"\n"+b.replace(/^Error(:[^\n]*)?\n/,""))});c.prototype=Object.create(b.prototype);c.prototype.constructor=c;c.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message};return c}function G(a){throw new Ka(a);
}function F(a,b,c){c=c||{};if(!("argPackAdvance"in b))throw new TypeError("registerType registeredInstance requires argPackAdvance");var d=b.name;a||G('type "'+d+'" must have a positive integer typeid pointer');if(La.hasOwnProperty(a)){if(c.U)return;G("Cannot register type '"+d+"' twice")}La[a]=b;wa.hasOwnProperty(a)&&(b=wa[a],delete wa[a],b.forEach(function(a){a()}))}function O(a){switch(a){case void 0:return 1;case null:return 2;case !0:return 3;case !1:return 4;default:var b=xa.length?xa.pop():
R.length;R[b]={W:1,value:a};return b}}function K(a){return this.fromWireType(U[a>>2])}function L(a){if(null===a)return"null";var b=typeof a;return"object"===b||"array"===b||"function"===b?a.toString():""+a}function S(a,b){switch(b){case 2:return function(a){return this.fromWireType(qa[a>>2])};case 3:return function(a){return this.fromWireType(ra[a>>3])};default:throw new TypeError("Unknown float type: "+a);}}function T(a,b,c){switch(b){case 0:return c?function(a){return Q[a]}:function(a){return J[a]};
case 1:return c?function(a){return la[a>>1]}:function(a){return sa[a>>1]};case 2:return c?function(a){return C[a>>2]}:function(a){return U[a>>2]};default:throw new TypeError("Unknown integer type: "+a);}}function D(){if(!ya){var a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"===typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Ma},b;for(b in Na)a[b]=Na[b];var c=[];for(b in a)c.push(b+"="+a[b]);ya=c}return ya}
function ma(a){return 0===a%4&&(0!==a%100||0===a%400)}function ba(a,b){for(var c=0,d=0;d<=b;c+=a[d++]);return c}function P(a,b){for(a=new Date(a.getTime());0<b;){var c=a.getMonth(),d=(ma(a.getFullYear())?na:oa)[c];if(b>d-a.getDate())b-=d-a.getDate()+1,a.setDate(1),11>c?a.setMonth(c+1):(a.setMonth(0),a.setFullYear(a.getFullYear()+1));else{a.setDate(a.getDate()+b);break}}return a}function ca(a,b,c,d){function h(a,b,c){for(a="number"===typeof a?a.toString():a||"";a.length<b;)a=c[0]+a;return a}function f(a,
b){return h(a,b,"0")}function g(a,b){function c(a){return 0>a?-1:0<a?1:0}var d;0===(d=c(a.getFullYear()-b.getFullYear()))&&0===(d=c(a.getMonth()-b.getMonth()))&&(d=c(a.getDate()-b.getDate()));return d}function k(a){switch(a.getDay()){case 0:return new Date(a.getFullYear()-1,11,29);case 1:return a;case 2:return new Date(a.getFullYear(),0,3);case 3:return new Date(a.getFullYear(),0,2);case 4:return new Date(a.getFullYear(),0,1);case 5:return new Date(a.getFullYear()-1,11,31);case 6:return new Date(a.getFullYear()-
1,11,30)}}function p(a){a=P(new Date(a.J+1900,0,1),a.P);var b=k(new Date(a.getFullYear()+1,0,4));return 0>=g(k(new Date(a.getFullYear(),0,4)),a)?0>=g(b,a)?a.getFullYear()+1:a.getFullYear():a.getFullYear()-1}var m=C[d+40>>2];d={Z:C[d>>2],Y:C[d+4>>2],N:C[d+8>>2],M:C[d+12>>2],K:C[d+16>>2],J:C[d+20>>2],O:C[d+24>>2],P:C[d+28>>2],ia:C[d+32>>2],X:C[d+36>>2],$:m?e(m):""};c=e(c);m={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y",
"%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var q in m)c=c.replace(new RegExp(q,"g"),m[q]);var ka="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),B="January February March April May June July August September October November December".split(" ");m={"%a":function(a){return ka[a.O].substring(0,
3)},"%A":function(a){return ka[a.O]},"%b":function(a){return B[a.K].substring(0,3)},"%B":function(a){return B[a.K]},"%C":function(a){return f((a.J+1900)/100|0,2)},"%d":function(a){return f(a.M,2)},"%e":function(a){return h(a.M,2," ")},"%g":function(a){return p(a).toString().substring(2)},"%G":function(a){return p(a)},"%H":function(a){return f(a.N,2)},"%I":function(a){a=a.N;0==a?a=12:12<a&&(a-=12);return f(a,2)},"%j":function(a){return f(a.M+ba(ma(a.J+1900)?na:oa,a.K-1),3)},"%m":function(a){return f(a.K+
1,2)},"%M":function(a){return f(a.Y,2)},"%n":function(){return"\n"},"%p":function(a){return 0<=a.N&&12>a.N?"AM":"PM"},"%S":function(a){return f(a.Z,2)},"%t":function(){return"\t"},"%u":function(a){return a.O||7},"%U":function(a){var b=new Date(a.J+1900,0,1),c=0===b.getDay()?b:P(b,7-b.getDay());a=new Date(a.J+1900,a.K,a.M);return 0>g(c,a)?f(Math.ceil((31-c.getDate()+(ba(ma(a.getFullYear())?na:oa,a.getMonth()-1)-31)+a.getDate())/7),2):0===g(c,b)?"01":"00"},"%V":function(a){var b=k(new Date(a.J+1900,
0,4)),c=k(new Date(a.J+1901,0,4)),d=P(new Date(a.J+1900,0,1),a.P);return 0>g(d,b)?"53":0>=g(c,d)?"01":f(Math.ceil((b.getFullYear()<a.J+1900?a.P+32-b.getDate():a.P+1-b.getDate())/7),2)},"%w":function(a){return a.O},"%W":function(a){var b=new Date(a.J,0,1),c=1===b.getDay()?b:P(b,0===b.getDay()?1:7-b.getDay()+1);a=new Date(a.J+1900,a.K,a.M);return 0>g(c,a)?f(Math.ceil((31-c.getDate()+(ba(ma(a.getFullYear())?na:oa,a.getMonth()-1)-31)+a.getDate())/7),2):0===g(c,b)?"01":"00"},"%y":function(a){return(a.J+
1900).toString().substring(2)},"%Y":function(a){return a.J+1900},"%z":function(a){a=a.X;var b=0<=a;a=Math.abs(a)/60;return(b?"+":"-")+String("0000"+(a/60*100+a%60)).slice(-4)},"%Z":function(a){return a.$},"%%":function(){return"%"}};for(q in m)0<=c.indexOf(q)&&(c=c.replace(new RegExp(q,"g"),m[q](d)));q=pa(c);if(q.length>b)return 0;Q.set(q,a);return q.length-1}function pa(a){var b=Array(p(a)+1);k(a,b,0,b.length);return b}function za(){function a(){if(!ha&&(ha=!0,!Ia)){x(Pa);x(Ba);if(q.onRuntimeInitialized)q.onRuntimeInitialized();
if(q.postRun)for("function"==typeof q.postRun&&(q.postRun=[q.postRun]);q.postRun.length;){var a=q.postRun.shift();Qa.unshift(a)}x(Qa)}}if(!(0<Y)){if(q.preRun)for("function"==typeof q.preRun&&(q.preRun=[q.preRun]);q.preRun.length;)l();x(Ga);0<Y||(q.setStatus?(q.setStatus("Running..."),setTimeout(function(){setTimeout(function(){q.setStatus("")},1);a()},1)):a())}}b=b||{};var q;q||(q="undefined"!==typeof b?b:{});q.compileGLSLZeroCopy=function(a,b,d){d=!!d;if("vertex"===b)var f=0;else if("fragment"===
b)f=4;else if("compute"===b)f=5;else throw Error("shader_stage must be 'vertex', 'fragment', or 'compute'");b=q._malloc(4);var e=q._malloc(4),g=h([a,f,d,b,e]);d=c(b);a=c(e);q._free(b);q._free(e);if(0===g)throw Error("GLSL compilation failed");b={};e=d/4;b.data=q.HEAPU32.subarray(e,e+a);b.free=function(){q._destroy_output_buffer(g)};return b};q.compileGLSL=function(a,b,c){a=q.compileGLSLZeroCopy(a,b,c);b=a.data.slice();a.free();return b};var Z={};for(H in q)q.hasOwnProperty(H)&&(Z[H]=q[H]);var Ma=
"./this.program",ua=!1,fa=!1;ua="object"===typeof window;fa="function"===typeof importScripts;var N="",ta;if(ua||fa)fa?N=self.location.href:document.currentScript&&(N=document.currentScript.src),a&&(N=a),0!==N.indexOf("blob:")?N=N.substr(0,N.lastIndexOf("/")+1):N="",fa&&(ta=function(a){var b=new XMLHttpRequest;b.open("GET",a,!1);b.responseType="arraybuffer";b.send(null);return new Uint8Array(b.response)});var Ha=q.print||console.log.bind(console),W=q.printErr||console.warn.bind(console);for(H in Z)Z.hasOwnProperty(H)&&
(q[H]=Z[H]);Z=null;q.thisProgram&&(Ma=q.thisProgram);var ea;q.wasmBinary&&(ea=q.wasmBinary);"object"!==typeof WebAssembly&&W("no native wasm support detected");var aa;Z=new WebAssembly.Table({initial:861,maximum:861,element:"anyfunc"});var Ia=!1,Fa="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");var da,Q,J,la,sa,C,U,qa,ra;var H=q.TOTAL_MEMORY||16777216;q.wasmMemory?aa=q.wasmMemory:aa=new WebAssembly.Memory({initial:H/65536});
aa&&(da=aa.buffer);H=da.byteLength;B(da);C[79464]=5560896;var Ga=[],Pa=[],Ba=[],Qa=[],Y=0,ia=null;q.preloadedImages={};q.preloadedAudios={};var X="glslang.wasm";r()||(H=X,X=q.locateFile?q.locateFile(H,N):N+H);Pa.push({T:function(){Wa()}});var Ca=[null,[],[]],va=0,Aa={},Ja=void 0,wa={},La={},Ka=void 0,xa=[],R=[{},{value:void 0},{value:null},{value:!0},{value:!1}],Na={},ya,na=[31,29,31,30,31,30,31,31,30,31,30,31],oa=[31,28,31,30,31,30,31,31,30,31,30,31];N=Array(256);for(H=0;256>H;++H)N[H]=String.fromCharCode(H);
Ja=N;Ka=q.BindingError=z("BindingError");q.InternalError=z("InternalError");q.count_emval_handles=function(){for(var a=0,b=5;b<R.length;++b)void 0!==R[b]&&++a;return a};q.get_first_emval=function(){for(var a=5;a<R.length;++a)if(void 0!==R[a])return R[a];return null};var Sa={j:function(){},g:function(){q.___errno_location&&(C[q.___errno_location()>>2]=63);return-1},v:function(a,b){va=b;try{var c=n(),d=n();if(-1===c||0===d)var h=-28;else{var f=Aa.V[c];if(f&&d===f.fa){var e=(void 0).da(f.ca);Aa.ba(c,
e,d,f.flags);(void 0).ha(e);Aa.V[c]=null;f.aa&&V(f.ga)}h=0}return h}catch(Ea){return t(Ea),-Ea.S}},d:function(){},s:function(a,b,c,d,h){var f=y(c);b=w(b);F(a,{name:b,fromWireType:function(a){return!!a},toWireType:function(a,b){return b?d:h},argPackAdvance:8,readValueFromPointer:function(a){if(1===c)var d=Q;else if(2===c)d=la;else if(4===c)d=C;else throw new TypeError("Unknown boolean type size: "+b);return this.fromWireType(d[a>>f])},L:null})},q:function(a,b){b=w(b);F(a,{name:b,fromWireType:function(a){var b=
R[a].value;4<a&&0===--R[a].W&&(R[a]=void 0,xa.push(a));return b},toWireType:function(a,b){return O(b)},argPackAdvance:8,readValueFromPointer:K,L:null})},e:function(a,b,c){c=y(c);b=w(b);F(a,{name:b,fromWireType:function(a){return a},toWireType:function(a,b){if("number"!==typeof b&&"boolean"!==typeof b)throw new TypeError('Cannot convert "'+L(b)+'" to '+this.name);return b},argPackAdvance:8,readValueFromPointer:S(b,c),L:null})},b:function(a,b,c,d,h){function f(a){return a}b=w(b);-1===h&&(h=4294967295);
var e=y(c);if(0===d){var g=32-8*c;f=function(a){return a<<g>>>g}}var k=-1!=b.indexOf("unsigned");F(a,{name:b,fromWireType:f,toWireType:function(a,c){if("number"!==typeof c&&"boolean"!==typeof c)throw new TypeError('Cannot convert "'+L(c)+'" to '+this.name);if(c<d||c>h)throw new TypeError('Passing a number "'+L(c)+'" from JS side to C/C++ side to an argument of type "'+b+'", which is outside the valid range ['+d+", "+h+"]!");return k?c>>>0:c|0},argPackAdvance:8,readValueFromPointer:T(b,e,0!==d),L:null})},
a:function(a,b,c){function d(a){a>>=2;var b=U;return new h(b.buffer,b[a+1],b[a])}var h=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][b];c=w(c);F(a,{name:c,fromWireType:d,argPackAdvance:8,readValueFromPointer:d},{U:!0})},f:function(a,b){b=w(b);var c="std::string"===b;F(a,{name:b,fromWireType:function(a){var b=U[a>>2];if(c){var d=J[a+4+b],h=0;0!=d&&(h=d,J[a+4+b]=0);var f=a+4;for(d=0;d<=b;++d){var g=a+4+d;if(0==J[g]){f=e(f);if(void 0===k)var k=f;else k+=
String.fromCharCode(0),k+=f;f=g+1}}0!=h&&(J[a+4+b]=h)}else{k=Array(b);for(d=0;d<b;++d)k[d]=String.fromCharCode(J[a+4+d]);k=k.join("")}V(a);return k},toWireType:function(a,b){b instanceof ArrayBuffer&&(b=new Uint8Array(b));var d="string"===typeof b;d||b instanceof Uint8Array||b instanceof Uint8ClampedArray||b instanceof Int8Array||G("Cannot pass non-string to std::string");var h=(c&&d?function(){return p(b)}:function(){return b.length})(),f=Ra(4+h+1);U[f>>2]=h;if(c&&d)k(b,J,f+4,h+1);else if(d)for(d=
0;d<h;++d){var e=b.charCodeAt(d);255<e&&(V(f),G("String has UTF-16 code units that do not fit in 8 bits"));J[f+4+d]=e}else for(d=0;d<h;++d)J[f+4+d]=b[d];null!==a&&a.push(V,f);return f},argPackAdvance:8,readValueFromPointer:K,L:function(a){V(a)}})},r:function(a,b,c){c=w(c);if(2===b)var d=function(){return sa},h=1;else 4===b&&(d=function(){return U},h=2);F(a,{name:c,fromWireType:function(a){for(var b=d(),c=U[a>>2],f=Array(c),e=a+4>>h,g=0;g<c;++g)f[g]=String.fromCharCode(b[e+g]);V(a);return f.join("")},
toWireType:function(a,c){var f=c.length,e=Ra(4+f*b),g=d();U[e>>2]=f;for(var k=e+4>>h,m=0;m<f;++m)g[k+m]=c.charCodeAt(m);null!==a&&a.push(V,e);return e},argPackAdvance:8,readValueFromPointer:K,L:function(a){V(a)}})},t:function(a,b){b=w(b);F(a,{ea:!0,name:b,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},c:function(){t()},n:function(a,b,c){J.set(J.subarray(b,b+c),a)},o:function(a){if(2147418112<a)return!1;for(var b=Math.max(Q.length,16777216);b<a;)536870912>=b?b=m(2*b):b=Math.min(m((3*
b+2147483648)/4),2147418112);a:{try{aa.grow(b-da.byteLength+65535>>16);B(aa.buffer);a=1;break a}catch(Xa){}a=void 0}return a?!0:!1},h:function(a,b){var c=0;D().forEach(function(d,h){var f=b+c;h=C[a+4*h>>2]=f;for(f=0;f<d.length;++f)Q[h++>>0]=d.charCodeAt(f);Q[h>>0]=0;c+=d.length+1});return 0},i:function(a,b){var c=D();C[a>>2]=c.length;var d=0;c.forEach(function(a){d+=a.length+1});C[b>>2]=d;return 0},l:function(){return 0},m:function(){return 0},k:function(a,b,c,d){try{for(var h=0,e=0;e<c;e++){for(var g=
C[b+8*e>>2],k=C[b+(8*e+4)>>2],m=0;m<k;m++){var p=J[g+m],q=Ca[a];0===p||10===p?((1===a?Ha:W)(f(q,0)),q.length=0):q.push(p)}h+=k}C[d>>2]=h;return 0}catch(Oa){return t(Oa),Oa.S}},memory:aa,w:function(){},p:function(){},u:function(a,b,c,d){return ca(a,b,c,d)},table:Z};N=function(){function a(a){q.asm=a.exports;Y--;q.monitorRunDependencies&&q.monitorRunDependencies(Y);0==Y&&ia&&(a=ia,ia=null,a())}function b(b){a(b.instance)}function c(a){return u().then(function(a){return WebAssembly.instantiate(a,d)}).then(a,
function(a){W("failed to asynchronously prepare wasm: "+a);t(a)})}var d={env:Sa,wasi_unstable:Sa};Y++;q.monitorRunDependencies&&q.monitorRunDependencies(Y);if(q.instantiateWasm)try{return q.instantiateWasm(d,a)}catch(Ta){return W("Module.instantiateWasm callback failed with error: "+Ta),!1}(function(){if(ea||"function"!==typeof WebAssembly.instantiateStreaming||r()||"function"!==typeof fetch)return c(b);fetch(X,{credentials:"same-origin"}).then(function(a){return WebAssembly.instantiateStreaming(a,
d).then(b,function(a){W("wasm streaming compile failed: "+a);W("falling back to ArrayBuffer instantiation");c(b)})})})();return{}}();q.asm=N;var Wa=q.___wasm_call_ctors=function(){return q.asm.x.apply(null,arguments)};q._convert_glsl_to_spirv=function(){return q.asm.y.apply(null,arguments)};q._destroy_output_buffer=function(){return q.asm.z.apply(null,arguments)};var Ra=q._malloc=function(){return q.asm.A.apply(null,arguments)},V=q._free=function(){return q.asm.B.apply(null,arguments)};q.___getTypeName=
function(){return q.asm.C.apply(null,arguments)};q.___embind_register_native_and_builtin_types=function(){return q.asm.D.apply(null,arguments)};var Ua=q.stackSave=function(){return q.asm.E.apply(null,arguments)},Da=q.stackAlloc=function(){return q.asm.F.apply(null,arguments)},Va=q.stackRestore=function(){return q.asm.G.apply(null,arguments)};q.dynCall_vi=function(){return q.asm.H.apply(null,arguments)};q.dynCall_v=function(){return q.asm.I.apply(null,arguments)};q.asm=N;var ha;q.then=function(a){if(ha)a(q);
else{var b=q.onRuntimeInitialized;q.onRuntimeInitialized=function(){b&&b();a(q)}}return q};ia=function ka(){ha||za();ha||(ia=ka)};q.run=za;if(q.preInit)for("function"==typeof q.preInit&&(q.preInit=[q.preInit]);0<q.preInit.length;)q.preInit.pop()();za();return b}}();"object"===typeof exports&&"object"===typeof module?module.exports=P:"function"===typeof define&&define.amd?define([],function(){return P}):"object"===typeof exports&&(exports.Module=P);var Ba=(()=>{let a=()=>new Promise((a)=>{P({locateFile(){const a=
(document.currentScript&&document.currentScript.src||(new URL("jirachi.js",document.baseURI)).href).lastIndexOf("/");return(document.currentScript&&document.currentScript.src||(new URL("jirachi.js",document.baseURI)).href).substring(0,a)+"/glslang.wasm"},onRuntimeInitialized(){a({compileGLSLZeroCopy:this.compileGLSLZeroCopy,compileGLSL:this.compileGLSL})}})}),b;return()=>{b||(b=a());return b}})(),r={EPSILON:1E-6};r.ARRAY_TYPE="undefined"!==typeof Float32Array?Float32Array:Array;r.RANDOM=Math.random;
r.ENABLE_SIMD=!1;r.SIMD_AVAILABLE=r.ARRAY_TYPE===Float32Array&&"SIMD"in window;r.USE_SIMD=r.ENABLE_SIMD&&r.SIMD_AVAILABLE;r.setMatrixArrayType=function(a){r.ARRAY_TYPE=a};var Ca=Math.PI/180;r.toRadian=function(a){return a*Ca};r.equals=function(a,b){return Math.abs(a-b)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};var e=void 0!==window.SIMD?window.SIMD:{},l={scalar:{},SIMD:{},create:function(){var a=new r.ARRAY_TYPE(16);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=
1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},clone:function(a){var b=new r.ARRAY_TYPE(16);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},copy:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a},fromValues:function(a,
b,c,d,h,f,e,k,p,m,B,x,l,t,n,v){var g=new r.ARRAY_TYPE(16);g[0]=a;g[1]=b;g[2]=c;g[3]=d;g[4]=h;g[5]=f;g[6]=e;g[7]=k;g[8]=p;g[9]=m;g[10]=B;g[11]=x;g[12]=l;g[13]=t;g[14]=n;g[15]=v;return g},set:function(a,b,c,d,h,f,e,k,p,m,B,x,l,t,n,r,u){a[0]=b;a[1]=c;a[2]=d;a[3]=h;a[4]=f;a[5]=e;a[6]=k;a[7]=p;a[8]=m;a[9]=B;a[10]=x;a[11]=l;a[12]=t;a[13]=n;a[14]=r;a[15]=u;return a},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;
return a}};l.scalar.transpose=function(a,b){if(a===b){var c=b[1],d=b[2],h=b[3],f=b[6],e=b[7],k=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=c;a[6]=b[9];a[7]=b[13];a[8]=d;a[9]=f;a[11]=b[14];a[12]=h;a[13]=e;a[14]=k}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a};l.SIMD.transpose=function(a,b){var c=window.SIMD;var d=c.Float32x4.load(b,0);var h=c.Float32x4.load(b,4);
var f=c.Float32x4.load(b,8);b=c.Float32x4.load(b,12);var e=c.Float32x4.shuffle(d,h,0,1,4,5);var k=c.Float32x4.shuffle(f,b,0,1,4,5);var p=c.Float32x4.shuffle(e,k,0,2,4,6);e=c.Float32x4.shuffle(e,k,1,3,5,7);c.Float32x4.store(a,0,p);c.Float32x4.store(a,4,e);e=c.Float32x4.shuffle(d,h,2,3,6,7);k=c.Float32x4.shuffle(f,b,2,3,6,7);d=c.Float32x4.shuffle(e,k,0,2,4,6);h=c.Float32x4.shuffle(e,k,1,3,5,7);c.Float32x4.store(a,8,d);c.Float32x4.store(a,12,h);return a};l.transpose=r.USE_SIMD?l.SIMD.transpose:l.scalar.transpose;
l.scalar.invert=function(a,b){var c=b[0],d=b[1],h=b[2],f=b[3],e=b[4],k=b[5],p=b[6],m=b[7],B=b[8],x=b[9],l=b[10],t=b[11],n=b[12],r=b[13],u=b[14];b=b[15];var I=c*k-d*e,y=c*p-h*e,w=c*m-f*e,A=d*p-h*k,z=d*m-f*k,G=h*m-f*p,F=B*r-x*n,O=B*u-l*n,K=B*b-t*n,L=x*u-l*r,S=x*b-t*r,T=l*b-t*u,D=I*T-y*S+w*L+A*K-z*O+G*F;if(!D)return null;D=1/D;a[0]=(k*T-p*S+m*L)*D;a[1]=(h*S-d*T-f*L)*D;a[2]=(r*G-u*z+b*A)*D;a[3]=(l*z-x*G-t*A)*D;a[4]=(p*K-e*T-m*O)*D;a[5]=(c*T-h*K+f*O)*D;a[6]=(u*w-n*G-b*y)*D;a[7]=(B*G-l*w+t*y)*D;a[8]=(e*
S-k*K+m*F)*D;a[9]=(d*K-c*S-f*F)*D;a[10]=(n*z-r*w+b*I)*D;a[11]=(x*w-B*z-t*I)*D;a[12]=(k*O-e*L-p*F)*D;a[13]=(c*L-d*O+h*F)*D;a[14]=(r*y-n*A-u*I)*D;a[15]=(B*A-x*y+l*I)*D;return a};l.SIMD.invert=function(a,b){var c=e.Float32x4.load(b,0);var d=e.Float32x4.load(b,4);var h=e.Float32x4.load(b,8);var f=e.Float32x4.load(b,12);b=e.Float32x4.shuffle(c,d,0,1,4,5);var g=e.Float32x4.shuffle(h,f,0,1,4,5);var k=e.Float32x4.shuffle(b,g,0,2,4,6);g=e.Float32x4.shuffle(g,b,1,3,5,7);b=e.Float32x4.shuffle(c,d,2,3,6,7);var p=
e.Float32x4.shuffle(h,f,2,3,6,7);var m=e.Float32x4.shuffle(b,p,0,2,4,6);p=e.Float32x4.shuffle(p,b,1,3,5,7);b=e.Float32x4.mul(m,p);b=e.Float32x4.swizzle(b,1,0,3,2);c=e.Float32x4.mul(g,b);d=e.Float32x4.mul(k,b);b=e.Float32x4.swizzle(b,2,3,0,1);c=e.Float32x4.sub(e.Float32x4.mul(g,b),c);d=e.Float32x4.sub(e.Float32x4.mul(k,b),d);d=e.Float32x4.swizzle(d,2,3,0,1);b=e.Float32x4.mul(g,m);b=e.Float32x4.swizzle(b,1,0,3,2);c=e.Float32x4.add(e.Float32x4.mul(p,b),c);f=e.Float32x4.mul(k,b);b=e.Float32x4.swizzle(b,
2,3,0,1);c=e.Float32x4.sub(c,e.Float32x4.mul(p,b));f=e.Float32x4.sub(e.Float32x4.mul(k,b),f);f=e.Float32x4.swizzle(f,2,3,0,1);b=e.Float32x4.mul(e.Float32x4.swizzle(g,2,3,0,1),p);b=e.Float32x4.swizzle(b,1,0,3,2);m=e.Float32x4.swizzle(m,2,3,0,1);c=e.Float32x4.add(e.Float32x4.mul(m,b),c);h=e.Float32x4.mul(k,b);b=e.Float32x4.swizzle(b,2,3,0,1);c=e.Float32x4.sub(c,e.Float32x4.mul(m,b));h=e.Float32x4.sub(e.Float32x4.mul(k,b),h);h=e.Float32x4.swizzle(h,2,3,0,1);b=e.Float32x4.mul(k,g);b=e.Float32x4.swizzle(b,
1,0,3,2);h=e.Float32x4.add(e.Float32x4.mul(p,b),h);f=e.Float32x4.sub(e.Float32x4.mul(m,b),f);b=e.Float32x4.swizzle(b,2,3,0,1);h=e.Float32x4.sub(e.Float32x4.mul(p,b),h);f=e.Float32x4.sub(f,e.Float32x4.mul(m,b));b=e.Float32x4.mul(k,p);b=e.Float32x4.swizzle(b,1,0,3,2);d=e.Float32x4.sub(d,e.Float32x4.mul(m,b));h=e.Float32x4.add(e.Float32x4.mul(g,b),h);b=e.Float32x4.swizzle(b,2,3,0,1);d=e.Float32x4.add(e.Float32x4.mul(m,b),d);h=e.Float32x4.sub(h,e.Float32x4.mul(g,b));b=e.Float32x4.mul(k,m);b=e.Float32x4.swizzle(b,
1,0,3,2);d=e.Float32x4.add(e.Float32x4.mul(p,b),d);f=e.Float32x4.sub(f,e.Float32x4.mul(g,b));b=e.Float32x4.swizzle(b,2,3,0,1);d=e.Float32x4.sub(d,e.Float32x4.mul(p,b));f=e.Float32x4.add(e.Float32x4.mul(g,b),f);k=e.Float32x4.mul(k,c);k=e.Float32x4.add(e.Float32x4.swizzle(k,2,3,0,1),k);k=e.Float32x4.add(e.Float32x4.swizzle(k,1,0,3,2),k);b=e.Float32x4.reciprocalApproximation(k);k=e.Float32x4.sub(e.Float32x4.add(b,b),e.Float32x4.mul(k,e.Float32x4.mul(b,b)));k=e.Float32x4.swizzle(k,0,0,0,0);if(!k)return null;
e.Float32x4.store(a,0,e.Float32x4.mul(k,c));e.Float32x4.store(a,4,e.Float32x4.mul(k,d));e.Float32x4.store(a,8,e.Float32x4.mul(k,h));e.Float32x4.store(a,12,e.Float32x4.mul(k,f));return a};l.invert=r.USE_SIMD?l.SIMD.invert:l.scalar.invert;l.scalar.adjoint=function(a,b){var c=b[0],d=b[1],h=b[2],f=b[3],e=b[4],k=b[5],p=b[6],m=b[7],B=b[8],l=b[9],n=b[10],t=b[11],r=b[12],v=b[13],u=b[14];b=b[15];a[0]=k*(n*b-t*u)-l*(p*b-m*u)+v*(p*t-m*n);a[1]=-(d*(n*b-t*u)-l*(h*b-f*u)+v*(h*t-f*n));a[2]=d*(p*b-m*u)-k*(h*b-f*
u)+v*(h*m-f*p);a[3]=-(d*(p*t-m*n)-k*(h*t-f*n)+l*(h*m-f*p));a[4]=-(e*(n*b-t*u)-B*(p*b-m*u)+r*(p*t-m*n));a[5]=c*(n*b-t*u)-B*(h*b-f*u)+r*(h*t-f*n);a[6]=-(c*(p*b-m*u)-e*(h*b-f*u)+r*(h*m-f*p));a[7]=c*(p*t-m*n)-e*(h*t-f*n)+B*(h*m-f*p);a[8]=e*(l*b-t*v)-B*(k*b-m*v)+r*(k*t-m*l);a[9]=-(c*(l*b-t*v)-B*(d*b-f*v)+r*(d*t-f*l));a[10]=c*(k*b-m*v)-e*(d*b-f*v)+r*(d*m-f*k);a[11]=-(c*(k*t-m*l)-e*(d*t-f*l)+B*(d*m-f*k));a[12]=-(e*(l*u-n*v)-B*(k*u-p*v)+r*(k*n-p*l));a[13]=c*(l*u-n*v)-B*(d*u-h*v)+r*(d*n-h*l);a[14]=-(c*(k*
u-p*v)-e*(d*u-h*v)+r*(d*p-h*k));a[15]=c*(k*n-p*l)-e*(d*n-h*l)+B*(d*p-h*k);return a};l.SIMD.adjoint=function(a,b){var c=e.Float32x4.load(b,0);var d=e.Float32x4.load(b,4);var h=e.Float32x4.load(b,8);var f=e.Float32x4.load(b,12);var g=e.Float32x4.shuffle(c,d,0,1,4,5);var k=e.Float32x4.shuffle(h,f,0,1,4,5);b=e.Float32x4.shuffle(g,k,0,2,4,6);k=e.Float32x4.shuffle(k,g,1,3,5,7);g=e.Float32x4.shuffle(c,d,2,3,6,7);d=e.Float32x4.shuffle(h,f,2,3,6,7);c=e.Float32x4.shuffle(g,d,0,2,4,6);d=e.Float32x4.shuffle(d,
g,1,3,5,7);g=e.Float32x4.mul(c,d);g=e.Float32x4.swizzle(g,1,0,3,2);h=e.Float32x4.mul(k,g);f=e.Float32x4.mul(b,g);g=e.Float32x4.swizzle(g,2,3,0,1);h=e.Float32x4.sub(e.Float32x4.mul(k,g),h);f=e.Float32x4.sub(e.Float32x4.mul(b,g),f);f=e.Float32x4.swizzle(f,2,3,0,1);g=e.Float32x4.mul(k,c);g=e.Float32x4.swizzle(g,1,0,3,2);h=e.Float32x4.add(e.Float32x4.mul(d,g),h);var p=e.Float32x4.mul(b,g);g=e.Float32x4.swizzle(g,2,3,0,1);h=e.Float32x4.sub(h,e.Float32x4.mul(d,g));p=e.Float32x4.sub(e.Float32x4.mul(b,g),
p);p=e.Float32x4.swizzle(p,2,3,0,1);g=e.Float32x4.mul(e.Float32x4.swizzle(k,2,3,0,1),d);g=e.Float32x4.swizzle(g,1,0,3,2);c=e.Float32x4.swizzle(c,2,3,0,1);h=e.Float32x4.add(e.Float32x4.mul(c,g),h);var m=e.Float32x4.mul(b,g);g=e.Float32x4.swizzle(g,2,3,0,1);h=e.Float32x4.sub(h,e.Float32x4.mul(c,g));m=e.Float32x4.sub(e.Float32x4.mul(b,g),m);m=e.Float32x4.swizzle(m,2,3,0,1);g=e.Float32x4.mul(b,k);g=e.Float32x4.swizzle(g,1,0,3,2);m=e.Float32x4.add(e.Float32x4.mul(d,g),m);p=e.Float32x4.sub(e.Float32x4.mul(c,
g),p);g=e.Float32x4.swizzle(g,2,3,0,1);m=e.Float32x4.sub(e.Float32x4.mul(d,g),m);p=e.Float32x4.sub(p,e.Float32x4.mul(c,g));g=e.Float32x4.mul(b,d);g=e.Float32x4.swizzle(g,1,0,3,2);f=e.Float32x4.sub(f,e.Float32x4.mul(c,g));m=e.Float32x4.add(e.Float32x4.mul(k,g),m);g=e.Float32x4.swizzle(g,2,3,0,1);f=e.Float32x4.add(e.Float32x4.mul(c,g),f);m=e.Float32x4.sub(m,e.Float32x4.mul(k,g));g=e.Float32x4.mul(b,c);g=e.Float32x4.swizzle(g,1,0,3,2);f=e.Float32x4.add(e.Float32x4.mul(d,g),f);p=e.Float32x4.sub(p,e.Float32x4.mul(k,
g));g=e.Float32x4.swizzle(g,2,3,0,1);f=e.Float32x4.sub(f,e.Float32x4.mul(d,g));p=e.Float32x4.add(e.Float32x4.mul(k,g),p);e.Float32x4.store(a,0,h);e.Float32x4.store(a,4,f);e.Float32x4.store(a,8,m);e.Float32x4.store(a,12,p);return a};l.adjoint=r.USE_SIMD?l.SIMD.adjoint:l.scalar.adjoint;l.determinant=function(a){var b=a[0],c=a[1],d=a[2],h=a[3],f=a[4],e=a[5],k=a[6],p=a[7],m=a[8],l=a[9],n=a[10],r=a[11],t=a[12],E=a[13],v=a[14];a=a[15];return(b*e-c*f)*(n*a-r*v)-(b*k-d*f)*(l*a-r*E)+(b*p-h*f)*(l*v-n*E)+(c*
k-d*e)*(m*a-r*t)-(c*p-h*e)*(m*v-n*t)+(d*p-h*k)*(m*E-l*t)};l.SIMD.multiply=function(a,b,c){var d=e.Float32x4.load(b,0),h=e.Float32x4.load(b,4),f=e.Float32x4.load(b,8);b=e.Float32x4.load(b,12);var g=e.Float32x4.load(c,0);g=e.Float32x4.add(e.Float32x4.mul(e.Float32x4.swizzle(g,0,0,0,0),d),e.Float32x4.add(e.Float32x4.mul(e.Float32x4.swizzle(g,1,1,1,1),h),e.Float32x4.add(e.Float32x4.mul(e.Float32x4.swizzle(g,2,2,2,2),f),e.Float32x4.mul(e.Float32x4.swizzle(g,3,3,3,3),b))));e.Float32x4.store(a,0,g);g=e.Float32x4.load(c,
4);g=e.Float32x4.add(e.Float32x4.mul(e.Float32x4.swizzle(g,0,0,0,0),d),e.Float32x4.add(e.Float32x4.mul(e.Float32x4.swizzle(g,1,1,1,1),h),e.Float32x4.add(e.Float32x4.mul(e.Float32x4.swizzle(g,2,2,2,2),f),e.Float32x4.mul(e.Float32x4.swizzle(g,3,3,3,3),b))));e.Float32x4.store(a,4,g);g=e.Float32x4.load(c,8);g=e.Float32x4.add(e.Float32x4.mul(e.Float32x4.swizzle(g,0,0,0,0),d),e.Float32x4.add(e.Float32x4.mul(e.Float32x4.swizzle(g,1,1,1,1),h),e.Float32x4.add(e.Float32x4.mul(e.Float32x4.swizzle(g,2,2,2,2),
f),e.Float32x4.mul(e.Float32x4.swizzle(g,3,3,3,3),b))));e.Float32x4.store(a,8,g);c=e.Float32x4.load(c,12);d=e.Float32x4.add(e.Float32x4.mul(e.Float32x4.swizzle(c,0,0,0,0),d),e.Float32x4.add(e.Float32x4.mul(e.Float32x4.swizzle(c,1,1,1,1),h),e.Float32x4.add(e.Float32x4.mul(e.Float32x4.swizzle(c,2,2,2,2),f),e.Float32x4.mul(e.Float32x4.swizzle(c,3,3,3,3),b))));e.Float32x4.store(a,12,d);return a};l.scalar.multiply=function(a,b,c){var d=b[0],h=b[1],f=b[2],e=b[3],k=b[4],p=b[5],m=b[6],l=b[7],n=b[8],r=b[9],
t=b[10],E=b[11],v=b[12],u=b[13],I=b[14];b=b[15];var y=c[0],w=c[1],A=c[2],z=c[3];a[0]=y*d+w*k+A*n+z*v;a[1]=y*h+w*p+A*r+z*u;a[2]=y*f+w*m+A*t+z*I;a[3]=y*e+w*l+A*E+z*b;y=c[4];w=c[5];A=c[6];z=c[7];a[4]=y*d+w*k+A*n+z*v;a[5]=y*h+w*p+A*r+z*u;a[6]=y*f+w*m+A*t+z*I;a[7]=y*e+w*l+A*E+z*b;y=c[8];w=c[9];A=c[10];z=c[11];a[8]=y*d+w*k+A*n+z*v;a[9]=y*h+w*p+A*r+z*u;a[10]=y*f+w*m+A*t+z*I;a[11]=y*e+w*l+A*E+z*b;y=c[12];w=c[13];A=c[14];z=c[15];a[12]=y*d+w*k+A*n+z*v;a[13]=y*h+w*p+A*r+z*u;a[14]=y*f+w*m+A*t+z*I;a[15]=y*e+w*
l+A*E+z*b;return a};l.multiply=r.USE_SIMD?l.SIMD.multiply:l.scalar.multiply;l.mul=l.multiply;l.scalar.translate=function(a,b,c){var d=c[0],h=c[1];c=c[2];if(b===a)a[12]=b[0]*d+b[4]*h+b[8]*c+b[12],a[13]=b[1]*d+b[5]*h+b[9]*c+b[13],a[14]=b[2]*d+b[6]*h+b[10]*c+b[14],a[15]=b[3]*d+b[7]*h+b[11]*c+b[15];else{var f=b[0];var e=b[1];var k=b[2];var p=b[3];var m=b[4];var l=b[5];var n=b[6];var r=b[7];var t=b[8];var E=b[9];var v=b[10];var u=b[11];a[0]=f;a[1]=e;a[2]=k;a[3]=p;a[4]=m;a[5]=l;a[6]=n;a[7]=r;a[8]=t;a[9]=
E;a[10]=v;a[11]=u;a[12]=f*d+m*h+t*c+b[12];a[13]=e*d+l*h+E*c+b[13];a[14]=k*d+n*h+v*c+b[14];a[15]=p*d+r*h+u*c+b[15]}return a};l.SIMD.translate=function(a,b,c){var d=e.Float32x4.load(b,0),h=e.Float32x4.load(b,4),f=e.Float32x4.load(b,8),g=e.Float32x4.load(b,12);c=e.Float32x4(c[0],c[1],c[2],0);b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11]);d=e.Float32x4.mul(d,e.Float32x4.swizzle(c,0,0,0,0));h=e.Float32x4.mul(h,e.Float32x4.swizzle(c,
1,1,1,1));f=e.Float32x4.mul(f,e.Float32x4.swizzle(c,2,2,2,2));b=e.Float32x4.add(d,e.Float32x4.add(h,e.Float32x4.add(f,g)));e.Float32x4.store(a,12,b);return a};l.translate=r.USE_SIMD?l.SIMD.translate:l.scalar.translate;l.scalar.scale=function(a,b,c){var d=c[0],h=c[1];c=c[2];a[0]=b[0]*d;a[1]=b[1]*d;a[2]=b[2]*d;a[3]=b[3]*d;a[4]=b[4]*h;a[5]=b[5]*h;a[6]=b[6]*h;a[7]=b[7]*h;a[8]=b[8]*c;a[9]=b[9]*c;a[10]=b[10]*c;a[11]=b[11]*c;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a};l.SIMD.scale=function(a,
b,c){var d=window.SIMD;c=d.Float32x4(c[0],c[1],c[2],0);var h=d.Float32x4.load(b,0);d.Float32x4.store(a,0,d.Float32x4.mul(h,d.Float32x4.swizzle(c,0,0,0,0)));h=d.Float32x4.load(b,4);d.Float32x4.store(a,4,d.Float32x4.mul(h,d.Float32x4.swizzle(c,1,1,1,1)));h=d.Float32x4.load(b,8);d.Float32x4.store(a,8,d.Float32x4.mul(h,d.Float32x4.swizzle(c,2,2,2,2)));a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a};l.scale=r.USE_SIMD?l.SIMD.scale:l.scalar.scale;l.rotate=function(a,b,c,d){var h=d[0],f=d[1];d=
d[2];var e=Math.sqrt(h*h+f*f+d*d);if(Math.abs(e)<r.EPSILON)return null;e=1/e;h*=e;f*=e;d*=e;var k=Math.sin(c);var p=Math.cos(c);var m=1-p;c=b[0];e=b[1];var l=b[2];var n=b[3];var M=b[4];var t=b[5];var E=b[6];var v=b[7];var u=b[8];var I=b[9];var y=b[10];var w=b[11];var A=h*h*m+p;var z=f*h*m+d*k;var G=d*h*m-f*k;var F=h*f*m-d*k;var O=f*f*m+p;var K=d*f*m+h*k;var L=h*d*m+f*k;h=f*d*m-h*k;f=d*d*m+p;a[0]=c*A+M*z+u*G;a[1]=e*A+t*z+I*G;a[2]=l*A+E*z+y*G;a[3]=n*A+v*z+w*G;a[4]=c*F+M*O+u*K;a[5]=e*F+t*O+I*K;a[6]=
l*F+E*O+y*K;a[7]=n*F+v*O+w*K;a[8]=c*L+M*h+u*f;a[9]=e*L+t*h+I*f;a[10]=l*L+E*h+y*f;a[11]=n*L+v*h+w*f;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a};l.scalar.rotateX=function(a,b,c){var d=Math.sin(c);c=Math.cos(c);var e=b[4],f=b[5],g=b[6],k=b[7],p=b[8],m=b[9],l=b[10],n=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=e*c+p*d;a[5]=f*c+m*d;a[6]=g*c+l*d;a[7]=k*c+n*d;a[8]=p*c-e*d;a[9]=m*c-f*d;a[10]=l*c-g*d;a[11]=n*c-k*d;return a};
l.SIMD.rotateX=function(a,b,c){var d=window.SIMD,e=d.Float32x4.splat(Math.sin(c));c=d.Float32x4.splat(Math.cos(c));b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);var f=d.Float32x4.load(b,4);b=d.Float32x4.load(b,8);d.Float32x4.store(a,4,d.Float32x4.add(d.Float32x4.mul(f,c),d.Float32x4.mul(b,e)));d.Float32x4.store(a,8,d.Float32x4.sub(d.Float32x4.mul(b,c),d.Float32x4.mul(f,e)));return a};l.rotateX=r.USE_SIMD?l.SIMD.rotateX:l.scalar.rotateX;l.scalar.rotateY=
function(a,b,c){var d=Math.sin(c);c=Math.cos(c);var e=b[0],f=b[1],g=b[2],k=b[3],p=b[8],m=b[9],l=b[10],n=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=e*c-p*d;a[1]=f*c-m*d;a[2]=g*c-l*d;a[3]=k*c-n*d;a[8]=e*d+p*c;a[9]=f*d+m*c;a[10]=g*d+l*c;a[11]=k*d+n*c;return a};l.SIMD.rotateY=function(a,b,c){var d=window.SIMD,e=d.Float32x4.splat(Math.sin(c));c=d.Float32x4.splat(Math.cos(c));b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=
b[13],a[14]=b[14],a[15]=b[15]);var f=d.Float32x4.load(b,0);b=d.Float32x4.load(b,8);d.Float32x4.store(a,0,d.Float32x4.sub(d.Float32x4.mul(f,c),d.Float32x4.mul(b,e)));d.Float32x4.store(a,8,d.Float32x4.add(d.Float32x4.mul(f,e),d.Float32x4.mul(b,c)));return a};l.rotateY=r.USE_SIMD?l.SIMD.rotateY:l.scalar.rotateY;l.scalar.rotateZ=function(a,b,c){var d=Math.sin(c);c=Math.cos(c);var e=b[0],f=b[1],g=b[2],k=b[3],p=b[4],m=b[5],l=b[6],n=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=
b[13],a[14]=b[14],a[15]=b[15]);a[0]=e*c+p*d;a[1]=f*c+m*d;a[2]=g*c+l*d;a[3]=k*c+n*d;a[4]=p*c-e*d;a[5]=m*c-f*d;a[6]=l*c-g*d;a[7]=n*c-k*d;return a};l.SIMD.rotateZ=function(a,b,c){var d=window.SIMD,e=d.Float32x4.splat(Math.sin(c));c=d.Float32x4.splat(Math.cos(c));b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);var f=d.Float32x4.load(b,0);b=d.Float32x4.load(b,4);d.Float32x4.store(a,0,d.Float32x4.add(d.Float32x4.mul(f,c),d.Float32x4.mul(b,e)));d.Float32x4.store(a,
4,d.Float32x4.sub(d.Float32x4.mul(b,c),d.Float32x4.mul(f,e)));return a};l.rotateZ=r.USE_SIMD?l.SIMD.rotateZ:l.scalar.rotateZ;l.fromTranslation=function(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a};l.fromScaling=function(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=b[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};l.fromRotation=function(a,b,c){var d=c[0],
e=c[1];c=c[2];var f=Math.sqrt(d*d+e*e+c*c);if(Math.abs(f)<r.EPSILON)return null;f=1/f;d*=f;e*=f;c*=f;f=Math.sin(b);b=Math.cos(b);var g=1-b;a[0]=d*d*g+b;a[1]=e*d*g+c*f;a[2]=c*d*g-e*f;a[3]=0;a[4]=d*e*g-c*f;a[5]=e*e*g+b;a[6]=c*e*g+d*f;a[7]=0;a[8]=d*c*g+e*f;a[9]=e*c*g-d*f;a[10]=c*c*g+b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};l.fromXRotation=function(a,b){var c=Math.sin(b);b=Math.cos(b);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=c;a[7]=0;a[8]=0;a[9]=-c;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=
0;a[15]=1;return a};l.fromYRotation=function(a,b){var c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=0;a[2]=-c;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=c;a[9]=0;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};l.fromZRotation=function(a,b){var c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=c;a[2]=0;a[3]=0;a[4]=-c;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};l.fromRotationTranslation=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],k=d+d,p=e+e,m=f+f;b=d*k;var l=
d*p;d*=m;var n=e*p;e*=m;f*=m;k*=g;p*=g;g*=m;a[0]=1-(n+f);a[1]=l+g;a[2]=d-p;a[3]=0;a[4]=l-g;a[5]=1-(b+f);a[6]=e+k;a[7]=0;a[8]=d+p;a[9]=e-k;a[10]=1-(b+n);a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a};l.getTranslation=function(a,b){a[0]=b[12];a[1]=b[13];a[2]=b[14];return a};l.getRotation=function(a,b){var c=b[0]+b[5]+b[10];0<c?(c=2*Math.sqrt(c+1),a[3]=.25*c,a[0]=(b[6]-b[9])/c,a[1]=(b[8]-b[2])/c,a[2]=(b[1]-b[4])/c):b[0]>b[5]&&b[0]>b[10]?(c=2*Math.sqrt(1+b[0]-b[5]-b[10]),a[3]=(b[6]-b[9])/
c,a[0]=.25*c,a[1]=(b[1]+b[4])/c,a[2]=(b[8]+b[2])/c):b[5]>b[10]?(c=2*Math.sqrt(1+b[5]-b[0]-b[10]),a[3]=(b[8]-b[2])/c,a[0]=(b[1]+b[4])/c,a[1]=.25*c,a[2]=(b[6]+b[9])/c):(c=2*Math.sqrt(1+b[10]-b[0]-b[5]),a[3]=(b[1]-b[4])/c,a[0]=(b[8]+b[2])/c,a[1]=(b[6]+b[9])/c,a[2]=.25*c);return a};l.fromRotationTranslationScale=function(a,b,c,d){var e=b[0],f=b[1],g=b[2],k=b[3],p=e+e,m=f+f,l=g+g;b=e*p;var n=e*m;e*=l;var r=f*m;f*=l;g*=l;p*=k;m*=k;k*=l;l=d[0];var t=d[1];d=d[2];a[0]=(1-(r+g))*l;a[1]=(n+k)*l;a[2]=(e-m)*l;
a[3]=0;a[4]=(n-k)*t;a[5]=(1-(b+g))*t;a[6]=(f+p)*t;a[7]=0;a[8]=(e+m)*d;a[9]=(f-p)*d;a[10]=(1-(b+r))*d;a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a};l.fromRotationTranslationScaleOrigin=function(a,b,c,d,e){var f=b[0],h=b[1],k=b[2],p=b[3],m=f+f,l=h+h,n=k+k;b=f*m;var r=f*l;f*=n;var t=h*l;h*=n;k*=n;m*=p;l*=p;p*=n;n=d[0];var E=d[1];d=d[2];var v=e[0],u=e[1];e=e[2];a[0]=(1-(t+k))*n;a[1]=(r+p)*n;a[2]=(f-l)*n;a[3]=0;a[4]=(r-p)*E;a[5]=(1-(b+k))*E;a[6]=(h+m)*E;a[7]=0;a[8]=(f+l)*d;a[9]=(h-m)*d;a[10]=
(1-(b+t))*d;a[11]=0;a[12]=c[0]+v-(a[0]*v+a[4]*u+a[8]*e);a[13]=c[1]+u-(a[1]*v+a[5]*u+a[9]*e);a[14]=c[2]+e-(a[2]*v+a[6]*u+a[10]*e);a[15]=1;return a};l.fromQuat=function(a,b){var c=b[0],d=b[1],e=b[2];b=b[3];var f=c+c,g=d+d,k=e+e;c*=f;var l=d*f;d*=g;var m=e*f,n=e*g;e*=k;f*=b;g*=b;b*=k;a[0]=1-d-e;a[1]=l+b;a[2]=m-g;a[3]=0;a[4]=l-b;a[5]=1-c-e;a[6]=n+f;a[7]=0;a[8]=m+g;a[9]=n-f;a[10]=1-c-d;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};l.frustum=function(a,b,c,d,e,f,g){var h=1/(c-b),l=1/(e-d),m=1/(f-g);
a[0]=2*f*h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*f*l;a[6]=0;a[7]=0;a[8]=(c+b)*h;a[9]=(e+d)*l;a[10]=(g+f)*m;a[11]=-1;a[12]=0;a[13]=0;a[14]=g*f*2*m;a[15]=0;return a};l.perspective=function(a,b,c,d,e){b=1/Math.tan(b/2);var f=1/(d-e);a[0]=b/c;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=(e+d)*f;a[11]=-1;a[12]=0;a[13]=0;a[14]=2*e*d*f;a[15]=0;return a};l.perspectiveFromFieldOfView=function(a,b,c,d){var e=Math.tan(b.upDegrees*Math.PI/180),f=Math.tan(b.downDegrees*Math.PI/180),g=Math.tan(b.leftDegrees*
Math.PI/180);b=Math.tan(b.rightDegrees*Math.PI/180);var k=2/(g+b),l=2/(e+f);a[0]=k;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=l;a[6]=0;a[7]=0;a[8]=-((g-b)*k*.5);a[9]=(e-f)*l*.5;a[10]=d/(c-d);a[11]=-1;a[12]=0;a[13]=0;a[14]=d*c/(c-d);a[15]=0;return a};l.ortho=function(a,b,c,d,e,f,g){var h=1/(b-c),l=1/(d-e),m=1/(f-g);a[0]=-2*h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*l;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*m;a[11]=0;a[12]=(b+c)*h;a[13]=(e+d)*l;a[14]=(g+f)*m;a[15]=1;return a};l.lookAt=function(a,b,c,d){var e=b[0],f=b[1];
b=b[2];var g=d[0];var k=d[1];var p=d[2];var m=c[0];d=c[1];var n=c[2];if(Math.abs(e-m)<r.EPSILON&&Math.abs(f-d)<r.EPSILON&&Math.abs(b-n)<r.EPSILON)return l.identity(a);c=e-m;d=f-d;m=b-n;var x=1/Math.sqrt(c*c+d*d+m*m);c*=x;d*=x;m*=x;n=k*m-p*d;p=p*c-g*m;g=g*d-k*c;(x=Math.sqrt(n*n+p*p+g*g))?(x=1/x,n*=x,p*=x,g*=x):g=p=n=0;k=d*g-m*p;var M=m*n-c*g;var t=c*p-d*n;(x=Math.sqrt(k*k+M*M+t*t))?(x=1/x,k*=x,M*=x,t*=x):t=M=k=0;a[0]=n;a[1]=k;a[2]=c;a[3]=0;a[4]=p;a[5]=M;a[6]=d;a[7]=0;a[8]=g;a[9]=t;a[10]=m;a[11]=0;
a[12]=-(n*e+p*f+g*b);a[13]=-(k*e+M*f+t*b);a[14]=-(c*e+d*f+m*b);a[15]=1;return a};l.str=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"};l.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+
Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))};l.add=function(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];a[4]=b[4]+c[4];a[5]=b[5]+c[5];a[6]=b[6]+c[6];a[7]=b[7]+c[7];a[8]=b[8]+c[8];a[9]=b[9]+c[9];a[10]=b[10]+c[10];a[11]=b[11]+c[11];a[12]=b[12]+c[12];a[13]=b[13]+c[13];a[14]=b[14]+c[14];a[15]=b[15]+c[15];return a};l.subtract=function(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];a[4]=b[4]-c[4];a[5]=b[5]-c[5];a[6]=
b[6]-c[6];a[7]=b[7]-c[7];a[8]=b[8]-c[8];a[9]=b[9]-c[9];a[10]=b[10]-c[10];a[11]=b[11]-c[11];a[12]=b[12]-c[12];a[13]=b[13]-c[13];a[14]=b[14]-c[14];a[15]=b[15]-c[15];return a};l.sub=l.subtract;l.multiplyScalar=function(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;a[4]=b[4]*c;a[5]=b[5]*c;a[6]=b[6]*c;a[7]=b[7]*c;a[8]=b[8]*c;a[9]=b[9]*c;a[10]=b[10]*c;a[11]=b[11]*c;a[12]=b[12]*c;a[13]=b[13]*c;a[14]=b[14]*c;a[15]=b[15]*c;return a};l.multiplyScalarAndAdd=function(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=b[1]+
c[1]*d;a[2]=b[2]+c[2]*d;a[3]=b[3]+c[3]*d;a[4]=b[4]+c[4]*d;a[5]=b[5]+c[5]*d;a[6]=b[6]+c[6]*d;a[7]=b[7]+c[7]*d;a[8]=b[8]+c[8]*d;a[9]=b[9]+c[9]*d;a[10]=b[10]+c[10]*d;a[11]=b[11]+c[11]*d;a[12]=b[12]+c[12]*d;a[13]=b[13]+c[13]*d;a[14]=b[14]+c[14]*d;a[15]=b[15]+c[15]*d;return a};l.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===
b[14]&&a[15]===b[15]};l.equals=function(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],k=a[5],l=a[6],m=a[7],n=a[8],x=a[9],M=a[10],t=a[11],E=a[12],v=a[13],u=a[14];a=a[15];var I=b[0],y=b[1],w=b[2],A=b[3],z=b[4],G=b[5],F=b[6],O=b[7],K=b[8],L=b[9],S=b[10],T=b[11],D=b[12],P=b[13],ba=b[14];b=b[15];return Math.abs(c-I)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(I))&&Math.abs(d-y)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(y))&&Math.abs(e-w)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(w))&&Math.abs(f-A)<=r.EPSILON*
Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(g-z)<=r.EPSILON*Math.max(1,Math.abs(g),Math.abs(z))&&Math.abs(k-G)<=r.EPSILON*Math.max(1,Math.abs(k),Math.abs(G))&&Math.abs(l-F)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(F))&&Math.abs(m-O)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(O))&&Math.abs(n-K)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(K))&&Math.abs(x-L)<=r.EPSILON*Math.max(1,Math.abs(x),Math.abs(L))&&Math.abs(M-S)<=r.EPSILON*Math.max(1,Math.abs(M),Math.abs(S))&&Math.abs(t-T)<=r.EPSILON*Math.max(1,
Math.abs(t),Math.abs(T))&&Math.abs(E-D)<=r.EPSILON*Math.max(1,Math.abs(E),Math.abs(D))&&Math.abs(v-P)<=r.EPSILON*Math.max(1,Math.abs(v),Math.abs(P))&&Math.abs(u-ba)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(ba))&&Math.abs(a-b)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};var n={create:function(){var a=new r.ARRAY_TYPE(3);a[0]=0;a[1]=0;a[2]=0;return a},clone:function(a){var b=new r.ARRAY_TYPE(3);b[0]=a[0];b[1]=a[1];b[2]=a[2];return b},fromValues:function(a,b,c){var d=new r.ARRAY_TYPE(3);d[0]=a;
d[1]=b;d[2]=c;return d},copy:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];return a},set:function(a,b,c,d){a[0]=b;a[1]=c;a[2]=d;return a},add:function(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];return a},subtract:function(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];return a}};n.sub=n.subtract;n.multiply=function(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];a[2]=b[2]*c[2];return a};n.mul=n.multiply;n.divide=function(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];a[2]=b[2]/c[2];return a};n.div=n.divide;
n.ceil=function(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);a[2]=Math.ceil(b[2]);return a};n.floor=function(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);a[2]=Math.floor(b[2]);return a};n.min=function(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);a[2]=Math.min(b[2],c[2]);return a};n.max=function(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);a[2]=Math.max(b[2],c[2]);return a};n.round=function(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);a[2]=Math.round(b[2]);return a};
n.scale=function(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;return a};n.scaleAndAdd=function(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=b[1]+c[1]*d;a[2]=b[2]+c[2]*d;return a};n.distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];a=b[2]-a[2];return Math.sqrt(c*c+d*d+a*a)};n.dist=n.distance;n.squaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];a=b[2]-a[2];return c*c+d*d+a*a};n.sqrDist=n.squaredDistance;n.length=function(a){var b=a[0],c=a[1];a=a[2];return Math.sqrt(b*b+c*c+a*a)};n.len=n.length;n.squaredLength=
function(a){var b=a[0],c=a[1];a=a[2];return b*b+c*c+a*a};n.sqrLen=n.squaredLength;n.negate=function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];return a};n.inverse=function(a,b){a[0]=1/b[0];a[1]=1/b[1];a[2]=1/b[2];return a};n.normalize=function(a,b){var c=b[0],d=b[1],e=b[2];c=c*c+d*d+e*e;0<c&&(c=1/Math.sqrt(c),a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c);return a};n.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]};n.cross=function(a,b,c){var d=b[0],e=b[1];b=b[2];var f=c[0],g=c[1];c=c[2];a[0]=e*c-b*g;a[1]=
b*f-d*c;a[2]=d*g-e*f;return a};n.lerp=function(a,b,c,d){var e=b[0],f=b[1];b=b[2];a[0]=e+d*(c[0]-e);a[1]=f+d*(c[1]-f);a[2]=b+d*(c[2]-b);return a};n.hermite=function(a,b,c,d,e,f){var h=f*f,k=h*(2*f-3)+1,l=h*(f-2)+f,m=h*(f-1);f=h*(3-2*f);a[0]=b[0]*k+c[0]*l+d[0]*m+e[0]*f;a[1]=b[1]*k+c[1]*l+d[1]*m+e[1]*f;a[2]=b[2]*k+c[2]*l+d[2]*m+e[2]*f;return a};n.bezier=function(a,b,c,d,e,f){var h=1-f,k=h*h,l=f*f,m=k*h;k*=3*f;h*=3*l;f*=l;a[0]=b[0]*m+c[0]*k+d[0]*h+e[0]*f;a[1]=b[1]*m+c[1]*k+d[1]*h+e[1]*f;a[2]=b[2]*m+c[2]*
k+d[2]*h+e[2]*f;return a};n.random=function(a,b){b=b||1;var c=2*r.RANDOM()*Math.PI,d=2*r.RANDOM()-1,e=Math.sqrt(1-d*d)*b;a[0]=Math.cos(c)*e;a[1]=Math.sin(c)*e;a[2]=d*b;return a};n.transformMat4=function(a,b,c){var d=b[0],e=b[1];b=b[2];var f=c[3]*d+c[7]*e+c[11]*b+c[15];f=f||1;a[0]=(c[0]*d+c[4]*e+c[8]*b+c[12])/f;a[1]=(c[1]*d+c[5]*e+c[9]*b+c[13])/f;a[2]=(c[2]*d+c[6]*e+c[10]*b+c[14])/f;return a};n.transformMat3=function(a,b,c){var d=b[0],e=b[1];b=b[2];a[0]=d*c[0]+e*c[3]+b*c[6];a[1]=d*c[1]+e*c[4]+b*c[7];
a[2]=d*c[2]+e*c[5]+b*c[8];return a};n.transformQuat=function(a,b,c){var d=b[0],e=b[1],f=b[2];b=c[0];var g=c[1],k=c[2];c=c[3];var l=c*d+g*f-k*e,m=c*e+k*d-b*f,n=c*f+b*e-g*d;d=-b*d-g*e-k*f;a[0]=l*c+d*-b+m*-k-n*-g;a[1]=m*c+d*-g+n*-b-l*-k;a[2]=n*c+d*-k+l*-g-m*-b;return a};n.rotateX=function(a,b,c,d){var e=[],f=[];e[0]=b[0]-c[0];e[1]=b[1]-c[1];e[2]=b[2]-c[2];f[0]=e[0];f[1]=e[1]*Math.cos(d)-e[2]*Math.sin(d);f[2]=e[1]*Math.sin(d)+e[2]*Math.cos(d);a[0]=f[0]+c[0];a[1]=f[1]+c[1];a[2]=f[2]+c[2];return a};n.rotateY=
function(a,b,c,d){var e=[],f=[];e[0]=b[0]-c[0];e[1]=b[1]-c[1];e[2]=b[2]-c[2];f[0]=e[2]*Math.sin(d)+e[0]*Math.cos(d);f[1]=e[1];f[2]=e[2]*Math.cos(d)-e[0]*Math.sin(d);a[0]=f[0]+c[0];a[1]=f[1]+c[1];a[2]=f[2]+c[2];return a};n.rotateZ=function(a,b,c,d){var e=[],f=[];e[0]=b[0]-c[0];e[1]=b[1]-c[1];e[2]=b[2]-c[2];f[0]=e[0]*Math.cos(d)-e[1]*Math.sin(d);f[1]=e[0]*Math.sin(d)+e[1]*Math.cos(d);f[2]=e[2];a[0]=f[0]+c[0];a[1]=f[1]+c[1];a[2]=f[2]+c[2];return a};n.forEach=function(){var a=n.create();return function(b,
c,d,e,f,g){c||(c=3);d||(d=0);for(e=e?Math.min(e*c+d,b.length):b.length;d<e;d+=c)a[0]=b[d],a[1]=b[d+1],a[2]=b[d+2],f(a,a,g),b[d]=a[0],b[d+1]=a[1],b[d+2]=a[2];return b}}();n.angle=function(a,b){a=n.fromValues(a[0],a[1],a[2]);b=n.fromValues(b[0],b[1],b[2]);n.normalize(a,a);n.normalize(b,b);b=n.dot(a,b);return 1<b?0:Math.acos(b)};n.str=function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"};n.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]};n.equals=function(a,b){var c=a[0],d=a[1];
a=a[2];var e=b[0],f=b[1];b=b[2];return Math.abs(c-e)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(e))&&Math.abs(d-f)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(f))&&Math.abs(a-b)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};var ca={vertices:new Float32Array([0,.5,-.5,-.5,.5,-.5]),vertexSize:8};navigator.gpu||alert("Your browser doesn't currently support webgpu.");navigator.gpu.requestAdapter().then(function(a){a.requestDevice().then(function(a){Ba().then(function(b){pa(a,b)})})})})();
